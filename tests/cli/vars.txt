$ # Create project p.
$ ${AK} project c --name p; echo $?
project_id: prj_00000000000000000000000001
0
$ # Create env for project p.
$ ${AK} env c -p p e1; echo $?
env_id: env_00000000000000000000000003
0
$ # Get vars.
$ ${AK} -j vars g -e p/e1; echo $?
0
$ # Set var.
$ ${AK} vars set -e p/e1 k1 v1; echo $?
0
$ # Get vars.
$ ${AK} -j vars g --env p/e1; echo $?
{"scope_id":"env_00000000000000000000000003","name":"k1","value":"v1"}
0
$ # Set var.
$ ${AK} vars set --env p/e1 k2 v2; echo $?
0
$ # Get vars.
$ ${AK} -j vars g --env p/e1; echo $?
{"scope_id":"env_00000000000000000000000003","name":"k1","value":"v1"}
{"scope_id":"env_00000000000000000000000003","name":"k2","value":"v2"}
0
$ # Set a secret var.
$ ${AK} vars set -s -e p/e1 ks shhh; echo $?
0
$ # Get vars.
$ ${AK} -j vars g -e p/e1; echo $?
{"scope_id":"env_00000000000000000000000003","name":"k1","value":"v1"}
{"scope_id":"env_00000000000000000000000003","name":"k2","value":"v2"}
{"scope_id":"env_00000000000000000000000003","name":"ks","is_secret":true}
0
$ # Update var.
$ ${AK} vars set -e p/e1 k1 v1updated; echo $?
0
$ # Get vars.
$ ${AK} -j vars g -e p/e1; echo $?
{"scope_id":"env_00000000000000000000000003","name":"k1","value":"v1updated"}
{"scope_id":"env_00000000000000000000000003","name":"k2","value":"v2"}
{"scope_id":"env_00000000000000000000000003","name":"ks","is_secret":true}
0
$ ${AK} vars g -e p/e1; echo $?
k1="v1updated"
k2="v2"
ks=<secret>
0
$ # Turn a var into a secret.
$ ${AK} vars set -s -e p/e1 k2 shhh2; echo $?
0
$ # Get vars.
$ ${AK} -j vars g -e p/e1; echo $?
{"scope_id":"env_00000000000000000000000003","name":"k1","value":"v1updated"}
{"scope_id":"env_00000000000000000000000003","name":"k2","is_secret":true}
{"scope_id":"env_00000000000000000000000003","name":"ks","is_secret":true}
0
$ # Turn a var into a non-secret.
$ ${AK} vars set -e p/e1 k2 no-longer-shhh2; echo $?
0
$ # Get vars.
$ ${AK} -j vars g -e p/e1; echo $?
{"scope_id":"env_00000000000000000000000003","name":"k1","value":"v1updated"}
{"scope_id":"env_00000000000000000000000003","name":"k2","value":"no-longer-shhh2"}
{"scope_id":"env_00000000000000000000000003","name":"ks","is_secret":true}
0
