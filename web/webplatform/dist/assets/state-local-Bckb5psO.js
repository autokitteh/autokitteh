(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="32b49085-8cf1-43a7-9fde-dea414821abc",e._sentryDebugIdIdentifier="sentry-dbid-32b49085-8cf1-43a7-9fde-dea414821abc")}catch{}})();function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(r){v(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(i,a){return a(i)},r)}}function c(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.length>=e.length?e.apply(this,i):function(){for(var l=arguments.length,s=new Array(l),o=0;o<l;o++)s[o]=arguments[o];return t.apply(n,[].concat(i,s))}}}function h(e){return{}.toString.call(e).includes("Object")}function w(e){return!Object.keys(e).length}function f(e){return typeof e=="function"}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function j(e,t){return h(t)||u("changeType"),Object.keys(t).some(function(n){return!m(e,n)})&&u("changeField"),t}function P(e){f(e)||u("selectorType")}function T(e){f(e)||h(e)||u("handlerType"),h(e)&&Object.values(e).some(function(t){return!f(t)})&&u("handlersType")}function S(e){e||u("initialIsRequired"),h(e)||u("initialType"),w(e)&&u("initialContent")}function D(e,t){throw new Error(e[t]||e.default)}var I={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},u=c(D)(I),p={changes:j,selector:P,handler:T,initial:S};function E(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};p.initial(e),p.handler(t);var n={current:e},r=c(F)(n,t),i=c(C)(n),a=c(p.changes)(e),l=c(q)(n);function s(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(y){return y};return p.selector(d),d(n.current)}function o(d){O(r,i,a,l)(d)}return[s,o]}function q(e,t){return f(t)?t(e.current):t}function C(e,t){return e.current=g(g({},e.current),t),t}function F(e,t,n){return f(t)?t(e.current):Object.keys(n).forEach(function(r){var i;return(i=t[r])===null||i===void 0?void 0:i.call(t,e.current[r])}),n}var R={create:E};export{R as i};
