import{i as fe}from"./state-local-Bckb5psO.js";import{r as c,e as L}from"./react-BA7A5rMr.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r=new e.Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="7da33cab-5a10-43b8-a131-99b5115bfe42",e._sentryDebugIdIdentifier="sentry-dbid-7da33cab-5a10-43b8-a131-99b5115bfe42")}catch{}})();function de(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Z(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function $(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Z(Object(t),!0).forEach(function(n){de(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ge(e,r){if(e==null)return{};var t={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function pe(e,r){if(e==null)return{};var t=ge(e,r),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function ve(e,r){return he(e)||me(e,r)||be(e,r)||we()}function he(e){if(Array.isArray(e))return e}function me(e,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var t=[],n=!0,o=!1,a=void 0;try{for(var d=e[Symbol.iterator](),m;!(n=(m=d.next()).done)&&(t.push(m.value),!(r&&t.length===r));n=!0);}catch(M){o=!0,a=M}finally{try{!n&&d.return!=null&&d.return()}finally{if(o)throw a}}return t}}function be(e,r){if(e){if(typeof e=="string")return ee(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ee(e,r)}}function ee(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function we(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ye={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function Me(e){return function r(){for(var t=this,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return o.length>=e.length?e.apply(this,o):function(){for(var d=arguments.length,m=new Array(d),M=0;M<d;M++)m[M]=arguments[M];return r.apply(t,[].concat(o,m))}}}function Oe(e){return{}.toString.call(e).includes("Object")}function je(e){return e||re("configIsRequired"),Oe(e)||re("configType"),e.urls?(Ee(),{paths:{vs:e.urls.monacoBase}}):e}function Ee(){console.warn(te.deprecation)}function Se(e,r){throw new Error(e[r]||e.default)}var te={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},re=Me(Se)(te),Ie={config:je},Pe=function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return function(o){return t.reduceRight(function(a,d){return d(a)},o)}};function ne(e,r){return Object.keys(r).forEach(function(t){r[t]instanceof Object&&e[t]&&Object.assign(r[t],ne(e[t],r[t]))}),$($({},e),r)}var Re={type:"cancelation",msg:"operation is manually canceled"};function K(e){var r=!1,t=new Promise(function(n,o){e.then(function(a){return r?o(Re):n(a)}),e.catch(o)});return t.cancel=function(){return r=!0},t}var Ce=fe.create({config:ye,isInitialized:!1,resolve:null,reject:null,monaco:null}),oe=ve(Ce,2),z=oe[0],F=oe[1];function Le(e){var r=Ie.config(e),t=r.monaco,n=pe(r,["monaco"]);F(function(o){return{config:ne(o.config,n),monaco:t}})}function Ae(){var e=z(function(r){var t=r.monaco,n=r.isInitialized,o=r.resolve;return{monaco:t,isInitialized:n,resolve:o}});if(!e.isInitialized){if(F({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),K(Q);if(window.monaco&&window.monaco.editor)return ie(window.monaco),e.resolve(window.monaco),K(Q);Pe(De,_e)(xe)}return K(Q)}function De(e){return document.body.appendChild(e)}function Ve(e){var r=document.createElement("script");return e&&(r.src=e),r}function _e(e){var r=z(function(n){var o=n.config,a=n.reject;return{config:o,reject:a}}),t=Ve("".concat(r.config.paths.vs,"/loader.js"));return t.onload=function(){return e()},t.onerror=r.reject,t}function xe(){var e=z(function(t){var n=t.config,o=t.resolve,a=t.reject;return{config:n,resolve:o,reject:a}}),r=window.require;r.config(e.config),r(["vs/editor/editor.main"],function(t){ie(t),e.resolve(t)},function(t){e.reject(t)})}function ie(e){z().monaco||F({monaco:e})}function ke(){return z(function(e){var r=e.monaco;return r})}var Q=new Promise(function(e,r){return F({resolve:e,reject:r})}),ae={config:Le,init:Ae,__getMonacoInstance:ke},ze={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},X=ze,Ne={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Te=Ne;function Ue({children:e}){return L.createElement("div",{style:Te.container},e)}var qe=Ue,Fe=qe;function We({width:e,height:r,isEditorReady:t,loading:n,_ref:o,className:a,wrapperProps:d}){return L.createElement("section",{style:{...X.wrapper,width:e,height:r},...d},!t&&L.createElement(Fe,null,n),L.createElement("div",{ref:o,style:{...X.fullWidth,...!t&&X.hide},className:a}))}var He=We,ce=c.memo(He);function Be(e){c.useEffect(e,[])}var ue=Be;function Ge(e,r,t=!0){let n=c.useRef(!0);c.useEffect(n.current||!t?()=>{n.current=!1}:e,r)}var y=Ge;function k(){}function C(e,r,t,n){return Ye(e,n)||Je(e,r,t,n)}function Ye(e,r){return e.editor.getModel(le(e,r))}function Je(e,r,t,n){return e.editor.createModel(r,t,n?le(e,n):void 0)}function le(e,r){return e.Uri.parse(r)}function Ke({original:e,modified:r,language:t,originalLanguage:n,modifiedLanguage:o,originalModelPath:a,modifiedModelPath:d,keepCurrentOriginalModel:m=!1,keepCurrentModifiedModel:M=!1,theme:j="light",loading:N="Loading...",options:O={},height:W="100%",width:H="100%",className:B,wrapperProps:G={},beforeMount:Y=k,onMount:J=k}){let[b,A]=c.useState(!1),[S,p]=c.useState(!0),v=c.useRef(null),g=c.useRef(null),D=c.useRef(null),h=c.useRef(J),l=c.useRef(Y),I=c.useRef(!1);ue(()=>{let i=ae.init();return i.then(s=>(g.current=s)&&p(!1)).catch(s=>(s==null?void 0:s.type)!=="cancelation"&&console.error("Monaco initialization: error:",s)),()=>v.current?V():i.cancel()}),y(()=>{if(v.current&&g.current){let i=v.current.getOriginalEditor(),s=C(g.current,e||"",n||t||"text",a||"");s!==i.getModel()&&i.setModel(s)}},[a],b),y(()=>{if(v.current&&g.current){let i=v.current.getModifiedEditor(),s=C(g.current,r||"",o||t||"text",d||"");s!==i.getModel()&&i.setModel(s)}},[d],b),y(()=>{let i=v.current.getModifiedEditor();i.getOption(g.current.editor.EditorOption.readOnly)?i.setValue(r||""):r!==i.getValue()&&(i.executeEdits("",[{range:i.getModel().getFullModelRange(),text:r||"",forceMoveMarkers:!0}]),i.pushUndoStop())},[r],b),y(()=>{var i,s;(s=(i=v.current)==null?void 0:i.getModel())==null||s.original.setValue(e||"")},[e],b),y(()=>{let{original:i,modified:s}=v.current.getModel();g.current.editor.setModelLanguage(i,n||t||"text"),g.current.editor.setModelLanguage(s,o||t||"text")},[t,n,o],b),y(()=>{var i;(i=g.current)==null||i.editor.setTheme(j)},[j],b),y(()=>{var i;(i=v.current)==null||i.updateOptions(O)},[O],b);let T=c.useCallback(()=>{var E;if(!g.current)return;l.current(g.current);let i=C(g.current,e||"",n||t||"text",a||""),s=C(g.current,r||"",o||t||"text",d||"");(E=v.current)==null||E.setModel({original:i,modified:s})},[t,r,o,e,n,a,d]),U=c.useCallback(()=>{var i;!I.current&&D.current&&(v.current=g.current.editor.createDiffEditor(D.current,{automaticLayout:!0,...O}),T(),(i=g.current)==null||i.editor.setTheme(j),A(!0),I.current=!0)},[O,j,T]);c.useEffect(()=>{b&&h.current(v.current,g.current)},[b]),c.useEffect(()=>{!S&&!b&&U()},[S,b,U]);function V(){var s,E,P,_;let i=(s=v.current)==null?void 0:s.getModel();m||((E=i==null?void 0:i.original)==null||E.dispose()),M||((P=i==null?void 0:i.modified)==null||P.dispose()),(_=v.current)==null||_.dispose()}return L.createElement(ce,{width:H,height:W,isEditorReady:b,loading:N,_ref:D,className:B,wrapperProps:G})}var Qe=Ke;c.memo(Qe);function Xe(e){let r=c.useRef();return c.useEffect(()=>{r.current=e},[e]),r.current}var Ze=Xe,q=new Map;function $e({defaultValue:e,defaultLanguage:r,defaultPath:t,value:n,language:o,path:a,theme:d="light",line:m,loading:M="Loading...",options:j={},overrideServices:N={},saveViewState:O=!0,keepCurrentModel:W=!1,width:H="100%",height:B="100%",className:G,wrapperProps:Y={},beforeMount:J=k,onMount:b=k,onChange:A,onValidate:S=k}){let[p,v]=c.useState(!1),[g,D]=c.useState(!0),h=c.useRef(null),l=c.useRef(null),I=c.useRef(null),T=c.useRef(b),U=c.useRef(J),V=c.useRef(),i=c.useRef(n),s=Ze(a),E=c.useRef(!1),P=c.useRef(!1);ue(()=>{let u=ae.init();return u.then(f=>(h.current=f)&&D(!1)).catch(f=>(f==null?void 0:f.type)!=="cancelation"&&console.error("Monaco initialization: error:",f)),()=>l.current?se():u.cancel()}),y(()=>{var f,w,x,R;let u=C(h.current,e||n||"",r||o||"",a||t||"");u!==((f=l.current)==null?void 0:f.getModel())&&(O&&q.set(s,(w=l.current)==null?void 0:w.saveViewState()),(x=l.current)==null||x.setModel(u),O&&((R=l.current)==null||R.restoreViewState(q.get(a))))},[a],p),y(()=>{var u;(u=l.current)==null||u.updateOptions(j)},[j],p),y(()=>{!l.current||n===void 0||(l.current.getOption(h.current.editor.EditorOption.readOnly)?l.current.setValue(n):n!==l.current.getValue()&&(P.current=!0,l.current.executeEdits("",[{range:l.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),l.current.pushUndoStop(),P.current=!1))},[n],p),y(()=>{var f,w;let u=(f=l.current)==null?void 0:f.getModel();u&&o&&((w=h.current)==null||w.editor.setModelLanguage(u,o))},[o],p),y(()=>{var u;m!==void 0&&((u=l.current)==null||u.revealLine(m))},[m],p),y(()=>{var u;(u=h.current)==null||u.editor.setTheme(d)},[d],p);let _=c.useCallback(()=>{var u;if(!(!I.current||!h.current)&&!E.current){U.current(h.current);let f=a||t,w=C(h.current,n||e||"",r||o||"",f||"");l.current=(u=h.current)==null?void 0:u.editor.create(I.current,{model:w,automaticLayout:!0,...j},N),O&&l.current.restoreViewState(q.get(f)),h.current.editor.setTheme(d),m!==void 0&&l.current.revealLine(m),v(!0),E.current=!0}},[e,r,t,n,o,a,j,N,O,d,m]);c.useEffect(()=>{p&&T.current(l.current,h.current)},[p]),c.useEffect(()=>{!g&&!p&&_()},[g,p,_]),i.current=n,c.useEffect(()=>{var u,f;p&&A&&((u=V.current)==null||u.dispose(),V.current=(f=l.current)==null?void 0:f.onDidChangeModelContent(w=>{P.current||A(l.current.getValue(),w)}))},[p,A]),c.useEffect(()=>{if(p){let u=h.current.editor.onDidChangeMarkers(f=>{var x;let w=(x=l.current.getModel())==null?void 0:x.uri;if(w&&f.find(R=>R.path===w.path)){let R=h.current.editor.getModelMarkers({resource:w});S==null||S(R)}});return()=>{u==null||u.dispose()}}return()=>{}},[p,S]);function se(){var u,f;(u=V.current)==null||u.dispose(),W?O&&q.set(a,l.current.saveViewState()):(f=l.current.getModel())==null||f.dispose(),l.current.dispose()}return L.createElement(ce,{width:H,height:B,isEditorReady:p,loading:M,_ref:I,className:G,wrapperProps:Y})}var er=$e,rr=c.memo(er),or=rr;export{or as F};
