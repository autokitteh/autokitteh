import{r as u}from"./react-BA7A5rMr.js";import{c as Z}from"./html-parse-stringify-BdFr3on4.js";import"./@descope-QDsTNvKh.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d8b9b6cd-2d3c-4e01-a9ff-f6ae93f1adca",e._sentryDebugIdIdentifier="sentry-dbid-d8b9b6cd-2d3c-4e01-a9ff-f6ae93f1adca")}catch{}})();const O=(...e)=>{console!=null&&console.warn&&(j(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e))},W={},P=(...e)=>{j(e[0])&&W[e[0]]||(j(e[0])&&(W[e[0]]=new Date),O(...e))},J=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},_=(e,t,n)=>{e.loadNamespaces(t,J(e,n))},q=(e,t,n,i)=>{j(n)&&(n=[n]),n.forEach(C=>{e.options.ns.indexOf(C)<0&&e.options.ns.push(C)}),e.loadLanguages(t,J(e,i))},ee=(e,t,n={})=>!t.languages||!t.languages.length?(P("i18n.languages were undefined or empty",t.languages),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,C)=>{var s;if(((s=n.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!C(i.isLanguageChangingTo,e))return!1}}),j=e=>typeof e=="string",V=e=>typeof e=="object"&&e!==null,te=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ne={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},se=e=>ne[e],ae=e=>e.replace(te,se);let K={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ae};const re=(e={})=>{K={...K,...e}},U=()=>K;let Y;const oe=e=>{Y=e},R=()=>Y,B=(e,t)=>{var i;if(!e)return!1;const n=((i=e.props)==null?void 0:i.children)??e.children;return t?n.length>0:!!n},M=e=>{var n,i;if(!e)return[];const t=((n=e.props)==null?void 0:n.children)??e.children;return(i=e.props)!=null&&i.i18nIsDynamicList?z(t):t},ie=e=>Array.isArray(e)&&e.every(u.isValidElement),z=e=>Array.isArray(e)?e:[e],ce=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},G=(e,t)=>{if(!e)return"";let n="";const i=z(e),C=t!=null&&t.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return i.forEach((s,f)=>{if(j(s))n+=`${s}`;else if(u.isValidElement(s)){const{props:x,type:m}=s,c=Object.keys(x).length,h=C.indexOf(m)>-1,E=x.children;if(!E&&h&&!c)n+=`<${m}/>`;else if(!E&&(!h||c)||x.i18nIsDynamicList)n+=`<${f}></${f}>`;else if(h&&c===1&&j(E))n+=`<${m}>${E}</${m}>`;else{const A=G(E,t);n+=`<${f}>${A}</${f}>`}}else if(s===null)O("Trans: the passed in value is invalid - seems you passed in a null child.");else if(V(s)){const{format:x,...m}=s,c=Object.keys(m);if(c.length===1){const h=x?`${c[0]}, ${x}`:c[0];n+=`{{${h}}}`}else O("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",s)}else O("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",s)}),n},le=(e,t,n,i,C,s)=>{if(t==="")return[];const f=i.transKeepBasicHtmlNodesFor||[],x=t&&new RegExp(f.map(r=>`<${r}`).join("|")).test(t);if(!e&&!x&&!s)return[t];const m={},c=r=>{z(r).forEach(o=>{j(o)||(B(o)?c(M(o)):V(o)&&!u.isValidElement(o)&&Object.assign(m,o))})};c(e);const h=Z.parse(`<0>${t}</0>`),E={...m,...C},A=(r,y,o)=>{var l;const p=M(r),I=b(p,y.children,o);return ie(p)&&I.length===0||(l=r.props)!=null&&l.i18nIsDynamicList?p:I},k=(r,y,o,p,I)=>{r.dummy?(r.children=y,o.push(u.cloneElement(r,{key:p},I?void 0:y))):o.push(...u.Children.map([r],l=>{const a={...l.props};return delete a.i18nIsDynamicList,u.createElement(l.type,{...a,key:p,ref:l.ref},I?null:y)}))},b=(r,y,o)=>{const p=z(r);return z(y).reduce((l,a,S)=>{var T,w;const g=((w=(T=a.children)==null?void 0:T[0])==null?void 0:w.content)&&n.services.interpolator.interpolate(a.children[0].content,E,n.language);if(a.type==="tag"){let d=p[parseInt(a.name,10)];o.length===1&&!d&&(d=o[0][a.name]),d||(d={});const N=Object.keys(a.attrs).length!==0?ce({props:a.attrs},d):d,L=u.isValidElement(N),D=L&&B(a,!0)&&!a.voidElement,F=x&&V(N)&&N.dummy&&!L,H=V(e)&&Object.hasOwnProperty.call(e,a.name);if(j(N)){const $=n.services.interpolator.interpolate(N,E,n.language);l.push($)}else if(B(N)||D){const $=A(N,a,o);k(N,$,l,S)}else if(F){const $=b(p,a.children,o);k(N,$,l,S)}else if(Number.isNaN(parseFloat(a.name)))if(H){const $=A(N,a,o);k(N,$,l,S,a.voidElement)}else if(i.transSupportBasicHtmlNodes&&f.indexOf(a.name)>-1)if(a.voidElement)l.push(u.createElement(a.name,{key:`${a.name}-${S}`}));else{const $=b(p,a.children,o);l.push(u.createElement(a.name,{key:`${a.name}-${S}`},$))}else if(a.voidElement)l.push(`<${a.name} />`);else{const $=b(p,a.children,o);l.push(`<${a.name}>${$}</${a.name}>`)}else if(V(N)&&!L){const $=a.children[0]?g:null;$&&l.push($)}else k(N,g,l,S,a.children.length!==1||!g)}else if(a.type==="text"){const d=i.transWrapTextNodes,N=s?i.unescape(n.services.interpolator.interpolate(a.content,E,n.language)):n.services.interpolator.interpolate(a.content,E,n.language);d?l.push(u.createElement(d,{key:`${a.name}-${S}`},N)):l.push(N)}return l},[])},v=b([{dummy:!0,children:e||[]}],h,z(e||[]));return M(v[0])};function ue({children:e,count:t,parent:n,i18nKey:i,context:C,tOptions:s={},values:f,defaults:x,components:m,ns:c,i18n:h,t:E,shouldUnescape:A,...k}){var d,N,L,D;const b=h||R();if(!b)return P("You will need to pass in an i18next instance by using i18nextReactModule"),e;const v=E||b.t.bind(b)||(F=>F),r={...U(),...(d=b.options)==null?void 0:d.react};let y=c||v.ns||((N=b.options)==null?void 0:N.defaultNS);y=j(y)?[y]:y||["translation"];const o=G(e,r),p=x||o||r.transEmptyNodeValue||i,{hashTransKey:I}=r,l=i||(I?I(o||p):o||p);(D=(L=b.options)==null?void 0:L.interpolation)!=null&&D.defaultVariables&&(f=f&&Object.keys(f).length>0?{...f,...b.options.interpolation.defaultVariables}:{...b.options.interpolation.defaultVariables});const a=f||t!==void 0||!e?s.interpolation:{interpolation:{...s.interpolation,prefix:"#$?",suffix:"?$#"}},S={...s,context:C||s.context,count:t,...f,...a,defaultValue:p,ns:y},g=l?v(l,S):p;m&&Object.keys(m).forEach(F=>{const H=m[F];if(typeof H.type=="function"||!H.props||!H.props.children||g.indexOf(`${F}/>`)<0&&g.indexOf(`${F} />`)<0)return;function $(){return u.createElement(u.Fragment,null,H)}m[F]=u.createElement($)});const T=le(m||e,g,b,r,S,A),w=n??r.defaultTransParent;return w?u.createElement(w,k,T):T}const he={type:"3rdParty",init(e){re(e.options.react),oe(e)}},X=u.createContext();class fe{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{var i;(i=this.usedNamespaces)[n]??(i[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function be({children:e,count:t,parent:n,i18nKey:i,context:C,tOptions:s={},values:f,defaults:x,components:m,ns:c,i18n:h,t:E,shouldUnescape:A,...k}){var o;const{i18n:b,defaultNS:v}=u.useContext(X)||{},r=h||b||R(),y=E||(r==null?void 0:r.t.bind(r));return ue({children:e,count:t,parent:n,i18nKey:i,context:C,tOptions:s,values:f,defaults:x,components:m,ns:c||(y==null?void 0:y.ns)||v||((o=r==null?void 0:r.options)==null?void 0:o.defaultNS),i18n:r,t:E,shouldUnescape:A,...k})}const pe=(e,t)=>{const n=u.useRef();return u.useEffect(()=>{n.current=e},[e,t]),n.current},Q=(e,t,n,i)=>e.getFixedT(t,n,i),de=(e,t,n,i)=>u.useCallback(Q(e,t,n,i),[e,t,n,i]),Ne=(e,t={})=>{var I,l,a,S;const{i18n:n}=t,{i18n:i,defaultNS:C}=u.useContext(X)||{},s=n||i||R();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new fe),!s){P("You will need to pass in an i18next instance by using initReactI18next");const g=(w,d)=>j(d)?d:V(d)&&j(d.defaultValue)?d.defaultValue:Array.isArray(w)?w[w.length-1]:w,T=[g,{},!1];return T.t=g,T.i18n={},T.ready=!1,T}(I=s.options.react)!=null&&I.wait&&P("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const f={...U(),...s.options.react,...t},{useSuspense:x,keyPrefix:m}=f;let c=e||C||((l=s.options)==null?void 0:l.defaultNS);c=j(c)?[c]:c||["translation"],(S=(a=s.reportNamespaces).addUsedNamespaces)==null||S.call(a,c);const h=(s.isInitialized||s.initializedStoreOnce)&&c.every(g=>ee(g,s,f)),E=de(s,t.lng||null,f.nsMode==="fallback"?c:c[0],m),A=()=>E,k=()=>Q(s,t.lng||null,f.nsMode==="fallback"?c:c[0],m),[b,v]=u.useState(A);let r=c.join();t.lng&&(r=`${t.lng}${r}`);const y=pe(r),o=u.useRef(!0);u.useEffect(()=>{const{bindI18n:g,bindI18nStore:T}=f;o.current=!0,!h&&!x&&(t.lng?q(s,t.lng,c,()=>{o.current&&v(k)}):_(s,c,()=>{o.current&&v(k)})),h&&y&&y!==r&&o.current&&v(k);const w=()=>{o.current&&v(k)};return g&&(s==null||s.on(g,w)),T&&(s==null||s.store.on(T,w)),()=>{o.current=!1,s&&(g==null||g.split(" ").forEach(d=>s.off(d,w))),T&&s&&T.split(" ").forEach(d=>s.store.off(d,w))}},[s,r]),u.useEffect(()=>{o.current&&h&&v(A)},[s,m,h]);const p=[b,s,h];if(p.t=b,p.i18n=s,p.ready=h,h||!h&&!x)return p;throw new Promise(g=>{t.lng?q(s,t.lng,c,()=>g()):_(s,c,()=>g())})};export{be as T,he as i,Ne as u};
