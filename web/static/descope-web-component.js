!function(){"use strict";var e=function(){return e=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},e.apply(this,arguments)};function t(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}function n(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))}function o(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}function i(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n}function r(e){this.message=e}"function"==typeof SuppressedError&&SuppressedError,r.prototype=new Error,r.prototype.name="InvalidCharacterError";var s="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,o,i=0,s=0,a="";o=t.charAt(s++);~o&&(n=i%4?64*n+o:o,i++%4)?a+=String.fromCharCode(255&n>>(-2*i&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return a};function a(e){this.message=e}function l(e,t){if("string"!=typeof e)throw new a("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(s(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return s(t)}}(e.split(".")[n]))}catch(e){throw new a("Invalid token specified: "+e.message)}}a.prototype=new Error,a.prototype.name="InvalidTokenError";var c="/v1/auth/accesskey/exchange",d="/v1/auth/otp/verify",u="/v1/auth/otp/signin",h="/v1/auth/otp/signup",p={email:"/v1/auth/otp/update/email",phone:"/v1/auth/otp/update/phone"},g="/v1/auth/otp/signup-in",f="/v1/auth/magiclink/verify",v="/v1/auth/magiclink/signin",m="/v1/auth/magiclink/signup",b={email:"/v1/auth/magiclink/update/email",phone:"/v1/auth/magiclink/update/phone"},w="/v1/auth/magiclink/signup-in",y="/v1/auth/enchantedlink/verify",I="/v1/auth/enchantedlink/signin",k="/v1/auth/enchantedlink/signup",O="/v1/auth/enchantedlink/pending-session",C={email:"/v1/auth/enchantedlink/update/email"},x="/v1/auth/enchantedlink/signup-in",j="/v1/auth/oauth/authorize",S="/v1/auth/oauth/exchange",A="v1/auth/oauth/native/start",E="v1/auth/oauth/native/finish",U="/v1/auth/saml/authorize",T="/v1/auth/saml/exchange",R="/v1/auth/totp/verify",L="/v1/auth/totp/signup",P="/v1/auth/totp/update",$="/v1/auth/notp/whatsapp/signin",M="/v1/auth/notp/whatsapp/signup",W="/v1/auth/notp/whatsapp/signup-in",D="/v1/auth/notp/pending-session",q={start:"/v1/auth/webauthn/signup/start",finish:"/v1/auth/webauthn/signup/finish"},N={start:"/v1/auth/webauthn/signin/start",finish:"/v1/auth/webauthn/signin/finish"},_={start:"/v1/auth/webauthn/signup-in/start"},F={start:"v1/auth/webauthn/update/start",finish:"/v1/auth/webauthn/update/finish"},K="/v1/auth/password/signup",H="/v1/auth/password/signin",J="/v1/auth/password/reset",V="/v1/auth/password/update",z="/v1/auth/password/replace",B="/v1/auth/password/policy",Z="/v1/auth/refresh",G="/v1/auth/tenant/select",X="/v1/auth/logout",Y="/v1/auth/logoutall",Q="/v1/auth/me",ee="/v1/auth/me/history",te="/v1/flow/start",ne="/v1/flow/next";const oe="<region>",ie=`https://api.${oe}descope.com`,re=6e5,se=()=>{const e={};return{headers(t){const n="function"==typeof t.entries?Object.fromEntries(t.entries()):t;return e.Headers=JSON.stringify(n),this},body(t){return e.Body=t,this},url(t){return e.Url=t.toString(),this},method(t){return e.Method=t,this},title(t){return e.Title=t,this},status(t){return e.Status=t,this},build:()=>Object.keys(e).flatMap((t=>e[t]?[`${"Title"!==t?`${t}: `:""}${e[t]}`]:[])).join("\n")}};var ae;!function(e){e.get="GET",e.delete="DELETE",e.post="POST",e.put="PUT"}(ae||(ae={}));var le=429;function ce(e,t,n){var o;let i=de(e);t&&(i=null===(o=null==i?void 0:i.tenants)||void 0===o?void 0:o[t]);const r=null==i?void 0:i[n];return Array.isArray(r)?r:[]}function de(e){if("string"!=typeof e||!e)throw new Error("Invalid token provided");return l(e)}function ue(e){const{exp:t}=de(e);return(new Date).getTime()/1e3>t}function he(e){let t=de(e);const n=Object.keys(null==t?void 0:t.tenants);return Array.isArray(n)?n:[]}function pe(e,t){return ce(e,t,"permissions")}function ge(e,t){return ce(e,t,"roles")}const fe=(...e)=>e.join("/").replace(/\/{2,}/g,"/");async function ve(e,t){var n;const o=await e,i={code:o.status,ok:o.ok,response:o},r=await o.clone().json();return o.ok?i.data=t?t(r):r:(i.error=r,o.status===le&&Object.assign(i.error,{retryAfter:Number.parseInt(null===(n=o.headers)||void 0===n?void 0:n.get("retry-after"))||0})),i}const me=(...e)=>new Headers(e.reduce(((e,t)=>{const n=(e=>Array.isArray(e)?e:e instanceof Headers?Array.from(e.entries()):e?Object.entries(e):[])(t);return n.reduce(((t,[n,o])=>(e[n]=o,e)),e),e}),{})),be=e=>void 0===e?void 0:JSON.stringify(e),we=(e,t="")=>{let n=e;return t&&(n=n+":"+t),{Authorization:`Bearer ${n}`}},ye=({baseUrl:e,projectId:t,baseConfig:n,logger:o,hooks:i,cookiePolicy:r,fetch:s})=>{const a=((e,t)=>{const n=(e=>async(...t)=>{const n=await e(...t),o=await n.text();return n.text=()=>Promise.resolve(o),n.json=()=>Promise.resolve(JSON.parse(o)),n.clone=()=>n,n})(t||fetch);return n||null==e||e.warn("Fetch is not defined, you will not be able to send http requests, if you are running in a test, make sure fetch is defined globally"),e?async(...t)=>{if(!n)throw Error("Cannot send http request, fetch is not defined, if you are running in a test, make sure fetch is defined globally");e.log((e=>se().title("Request").url(e[0]).method(e[1].method).headers(e[1].headers).body(e[1].body).build())(t));const o=await n(...t);return e[o.ok?"log":"error"](await(async e=>{const t=await e.text();return se().title("Response").url(e.url.toString()).status(`${e.status} ${e.statusText}`).headers(e.headers).body(t).build()})(o)),o}:n})(o,s),l=async o=>{const s=(null==i?void 0:i.beforeRequest)?i.beforeRequest(o):o,{path:l,body:c,headers:d,queryParams:u,method:h,token:p}=s,g={headers:me(we(t,p),{"x-descope-sdk-name":"core-js","x-descope-sdk-version":"2.14.6"},(null==n?void 0:n.baseHeaders)||{},d),method:h,body:be(c)};null!==r&&(g.credentials=r||"include");const f=await a((({path:e,baseUrl:t,queryParams:n,projectId:o})=>{const i=o.slice(1,-27);t=t.replace(oe,i?i+".":"");const r=new URL(t);return r.pathname=fe(r.pathname,e),n&&(r.search=new URLSearchParams(n).toString()),r})({path:l,baseUrl:e,queryParams:u,projectId:t}),g);return(null==i?void 0:i.afterRequest)&&await i.afterRequest(o,null==f?void 0:f.clone()),f};return{get:(e,{headers:t,queryParams:n,token:o}={})=>l({path:e,headers:t,queryParams:n,body:void 0,method:ae.get,token:o}),post:(e,t,{headers:n,queryParams:o,token:i}={})=>l({path:e,headers:n,queryParams:o,body:t,method:ae.post,token:i}),put:(e,t,{headers:n,queryParams:o,token:i}={})=>l({path:e,headers:n,queryParams:o,body:t,method:ae.put,token:i}),delete:(e,{headers:t,queryParams:n,token:o}={})=>l({path:e,headers:t,queryParams:n,body:void 0,method:ae.delete,token:o}),hooks:i}},Ie=(e,t)=>(n=t)=>t=>!e(t)&&n.replace("{val}",t),ke=(...e)=>({validate:t=>(e.forEach((e=>{const n=e(t);if(n)throw new Error(n)})),!0)}),Oe=e=>t=>e.test(t),Ce=Oe(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/),xe=Oe(/^\+[1-9]{1}[0-9]{3,14}$/),je=Ie(Ce,'"{val}" is not a valid email'),Se=Ie(xe,'"{val}" is not a valid phone number'),Ae=Ie((1,e=>e.length>=1),"Minimum length is 1");const Ee=Ie((e=>"string"==typeof e),"Input is not a string"),Ue=Ie((e=>void 0===e),"Input is defined"),Te=(Re=[Ee(),Ue()],"Input is not a string or undefined",(e="Input is not a string or undefined")=>t=>{const n=Re.filter((e=>e(t)));return!(n.length<Re.length)&&(e?e.replace("{val}",t):n.join(" OR "))});var Re;const Le=(...e)=>t=>(...n)=>(e.forEach(((e,t)=>ke(...e).validate(n[t]))),t(...n)),Pe=e=>[Ee(`"${e}" must be a string`)],$e=e=>[Ee(`"${e}" must be a string`),Ae(`"${e}" must not be empty`)],Me=e=>[Ee(`"${e}" must be a string`),je()],We=e=>[Ee(`"${e}" must be a string`),Se()],De=Le($e("accessKey")),qe=e=>({exchange:De(((t,n)=>ve(e.post(c,{loginOptions:n},{token:t}))))}),Ne=(e,t,n)=>(t.forEach((t=>{const o=t.split(".");let i=o.shift(),r=e;for(;o.length>0;){if(r=r[i],!i||!r)throw Error(`Invalid path "${t}", "${i}" is missing or has no value`);i=o.shift()}if("function"!=typeof r[i])throw Error(`"${t}" is not a function`);const s=r[i];r[i]=n(s)})),e),_e=({pollingIntervalMs:e=1e3,timeoutMs:t=6e5}={})=>({pollingIntervalMs:Math.max(e||1e3,1e3),timeoutMs:Math.min(t||re,re)});var Fe,Ke;!function(e){e.sms="sms",e.voice="voice",e.whatsapp="whatsapp"}(Fe||(Fe={})),function(e){e.email="email"}(Ke||(Ke={}));const He=Object.assign(Object.assign({},Fe),Ke);var Je;!function(e){e.waiting="waiting",e.running="running",e.completed="completed",e.failed="failed"}(Je||(Je={}));const Ve=$e("loginId"),ze=Le($e("token")),Be=Le(Ve),Ze=Le($e("pendingRef")),Ge=Le(Ve,Me("email")),Xe=e=>({verify:ze((t=>ve(e.post(y,{token:t})))),signIn:Be(((t,n,o,i)=>ve(e.post(fe(I,He.email),{loginId:t,URI:n,loginOptions:o},{token:i})))),signUpOrIn:Be(((t,n,o)=>ve(e.post(fe(x,He.email),{loginId:t,URI:n,loginOptions:o})))),signUp:Be(((t,n,o,i)=>ve(e.post(fe(k,He.email),{loginId:t,URI:n,user:o,loginOptions:i})))),waitForSession:Ze(((t,n)=>new Promise((o=>{const{pollingIntervalMs:i,timeoutMs:r}=_e(n);let s;const a=setInterval((async()=>{const n=await e.post(O,{pendingRef:t});n.ok&&(clearInterval(a),s&&clearTimeout(s),o(ve(Promise.resolve(n))))}),i);s=setTimeout((()=>{o({error:{errorDescription:`Session polling timeout exceeded: ${r}ms`,errorCode:"0"},ok:!1}),clearInterval(a)}),r)})))),update:{email:Ge(((t,n,o,i,r)=>ve(e.post(C.email,Object.assign({loginId:t,email:n,URI:o},r),{token:i}))))}}),Ye=Le($e("flowId")),Qe=Le($e("executionId"),$e("stepId"),$e("interactionId")),et=e=>({start:Ye(((t,n,o,i,r,s,a)=>ve(e.post(te,{flowId:t,options:n,conditionInteractionId:o,interactionId:i,version:r,componentsVersion:s,input:a})))),next:Qe(((t,n,o,i,r,s)=>ve(e.post(ne,{executionId:t,stepId:n,interactionId:o,version:i,componentsVersion:r,input:s}))))}),tt=$e("loginId"),nt=Le($e("token")),ot=Le(tt),it=Le(tt,We("phone")),rt=Le(tt,Me("email")),st=Object.keys(He).filter((e=>e!==Fe.voice)),at=e=>({verify:nt((t=>ve(e.post(f,{token:t})))),signIn:st.reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:ot(((t,o,i,r)=>ve(e.post(fe(v,n),{loginId:t,URI:o,loginOptions:i},{token:r}))))})),{}),signUp:st.reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:ot(((t,o,i,r)=>ve(e.post(fe(m,n),{loginId:t,URI:o,user:i,loginOptions:r}))))})),{}),signUpOrIn:st.reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:ot(((t,o,i)=>ve(e.post(fe(w,n),{loginId:t,URI:o,loginOptions:i}))))})),{}),update:{email:rt(((t,n,o,i,r)=>ve(e.post(b.email,Object.assign({loginId:t,email:n,URI:o},r),{token:i})))),phone:Object.keys(Fe).filter((e=>e!==Fe.voice)).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:it(((t,o,i,r,s)=>ve(e.post(fe(b.phone,n),Object.assign({loginId:t,phone:o,URI:i},s),{token:r}))))})),{})}});var lt;!function(e){e.facebook="facebook",e.github="github",e.google="google",e.microsoft="microsoft",e.gitlab="gitlab",e.apple="apple",e.discord="discord",e.linkedin="linkedin",e.slack="slack"}(lt||(lt={}));const ct=Le($e("code")),dt=e=>({start:Object.assign(((t,n,o,i)=>ve(e.post(j,o||{},{queryParams:Object.assign({provider:t},n&&{redirectURL:n}),token:i}))),Object.keys(lt).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:(t,o,i)=>ve(e.post(j,o||{},{queryParams:Object.assign({provider:n},t&&{redirectURL:t}),token:i}))})),{})),exchange:ct((t=>ve(e.post(S,{code:t})))),startNative:(t,n)=>ve(e.post(A,{provider:t,loginOptions:n})),finishNative:(t,n,o,i,r)=>ve(e.post(E,{provider:t,stateId:n,user:o,code:i,idToken:r}))}),ut=$e("loginId"),ht=Le(ut,$e("code")),pt=Le(ut),gt=Le(ut,We("phone")),ft=Le(ut,Me("email")),vt=e=>({verify:Object.keys(He).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:ht(((t,o)=>ve(e.post(fe(d,n),{code:o,loginId:t}))))})),{}),signIn:Object.keys(He).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:pt(((t,o,i)=>ve(e.post(fe(u,n),{loginId:t,loginOptions:o},{token:i}))))})),{}),signUp:Object.keys(He).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:pt(((t,o,i)=>ve(e.post(fe(h,n),{loginId:t,user:o,loginOptions:i}))))})),{}),signUpOrIn:Object.keys(He).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:pt(((t,o)=>ve(e.post(fe(g,n),{loginId:t,loginOptions:o}))))})),{}),update:{email:ft(((t,n,o,i)=>ve(e.post(p.email,Object.assign({loginId:t,email:n},i),{token:o})))),phone:Object.keys(Fe).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:gt(((t,o,i,r)=>ve(e.post(fe(p.phone,n),Object.assign({loginId:t,phone:o},r),{token:i}))))})),{})}}),mt=Le($e("tenant")),bt=Le($e("code")),wt=e=>({start:mt(((t,n,o,i)=>ve(e.post(U,o||{},{queryParams:{tenant:t,redirectURL:n},token:i})))),exchange:bt((t=>ve(e.post(T,{code:t}))))}),yt=$e("loginId"),It=Le(yt,$e("code")),kt=Le(yt),Ot=Le(yt),Ct=e=>({signUp:kt(((t,n)=>ve(e.post(L,{loginId:t,user:n})))),verify:It(((t,n,o,i)=>ve(e.post(R,{loginId:t,code:n,loginOptions:o},{token:i})))),update:Ot(((t,n)=>ve(e.post(P,{loginId:t},{token:n}))))}),xt=$e("loginId"),jt=$e("newPassword"),St=Le(xt,$e("password")),At=Le(xt),Et=Le(xt,jt),Ut=Le(xt,$e("oldPassword"),jt),Tt=e=>({signUp:St(((t,n,o)=>ve(e.post(K,{loginId:t,password:n,user:o})))),signIn:St(((t,n)=>ve(e.post(H,{loginId:t,password:n})))),sendReset:At(((t,n,o)=>ve(e.post(J,{loginId:t,redirectUrl:n,templateOptions:o})))),update:Et(((t,n,o)=>ve(e.post(V,{loginId:t,newPassword:n},{token:o})))),replace:Ut(((t,n,o)=>ve(e.post(z,{loginId:t,oldPassword:n,newPassword:o})))),policy:()=>ve(e.get(B))}),Rt=Pe("loginId"),Lt=$e("loginId"),Pt=$e("origin"),$t=Le(Lt,Pt,$e("name")),Mt=Le(Lt,Pt),Wt=Le(Rt,Pt),Dt=Le(Lt,Pt,$e("token")),qt=Le($e("transactionId"),$e("response")),Nt=e=>({signUp:{start:$t(((t,n,o)=>ve(e.post(q.start,{user:{loginId:t,name:o},origin:n})))),finish:qt(((t,n)=>ve(e.post(q.finish,{transactionId:t,response:n}))))},signIn:{start:Wt(((t,n,o,i)=>ve(e.post(N.start,{loginId:t,origin:n,loginOptions:o},{token:i})))),finish:qt(((t,n)=>ve(e.post(N.finish,{transactionId:t,response:n}))))},signUpOrIn:{start:Mt(((t,n)=>ve(e.post(_.start,{loginId:t,origin:n}))))},update:{start:Dt(((t,n,o)=>ve(e.post(F.start,{loginId:t,origin:n},{token:o})))),finish:qt(((t,n)=>ve(e.post(F.finish,{transactionId:t,response:n}))))}}),_t=Pe("loginId"),Ft=Le(_t),Kt=Le($e("pendingRef")),Ht=e=>({signUpOrIn:Ft(((t,n)=>ve(e.post(W,{loginId:t,loginOptions:n})))),signUp:Ft(((t,n,o)=>ve(e.post(M,{loginId:t,user:n,loginOptions:o})))),signIn:Ft(((t,n,o)=>ve(e.post($,{loginId:t,loginOptions:n},{token:o})))),waitForSession:Kt(((t,n)=>new Promise((o=>{const{pollingIntervalMs:i,timeoutMs:r}=_e(n);let s;const a=setInterval((async()=>{const n=await e.post(D,{pendingRef:t});n.ok&&(clearInterval(a),s&&clearTimeout(s),o(ve(Promise.resolve(n))))}),i);s=setTimeout((()=>{o({error:{errorDescription:`Session polling timeout exceeded: ${r}ms`,errorCode:"0"},ok:!1}),clearInterval(a)}),r)}))))}),Jt=Le($e("token")),Vt=Le([Te('"token" must be string or undefined')]);var zt,Bt=Le([("projectId",zt=$e("projectId"),Ie(((e,t)=>n=>ke(...t).validate(((e,t,n)=>{const o=(Array.isArray(t)?t.join("."):String(t)).replace(/\[\\?("|')?(\w|d)+\\?("|')?\]/g,((e,t,n)=>"."+n)).split("."),i=o.length;let r=0,s=e===Object(e)?e:void 0;for(;null!=s&&r<i;)s=s[o[r++]];return r&&r===i&&void 0!==s?s:void 0})(n,e)))("projectId",zt))())])((e=>(({projectId:e,logger:t,baseUrl:n,hooks:o,cookiePolicy:i,baseHeaders:r={},fetch:s})=>{return a=ye({baseUrl:n||ie,projectId:e,logger:t,hooks:o,cookiePolicy:i,baseConfig:{baseHeaders:r},fetch:s}),{accessKey:qe(a),otp:vt(a),magicLink:at(a),enchantedLink:Xe(a),oauth:dt(a),saml:wt(a),totp:Ct(a),notp:Ht(a),webauthn:Nt(a),password:Tt(a),flow:et(a),refresh:Vt((e=>ve(a.post(Z,{},{token:e})))),selectTenant:Le([Ee("tenantId")],[Te('"token" must be string or undefined')])(((e,t)=>ve(a.post(G,{tenant:e},{token:t})))),logout:Vt((e=>ve(a.post(X,{},{token:e})))),logoutAll:Vt((e=>ve(a.post(Y,{},{token:e})))),me:Vt((e=>ve(a.get(Q,{token:e})))),history:Vt((e=>ve(a.get(ee,{token:e})))),isJwtExpired:Jt(ue),getTenants:Jt(he),getJwtPermissions:Jt(pe),getJwtRoles:Jt(ge),httpClient:a};var a})(Object.assign(Object.assign({},e),{hooks:{beforeRequest:t=>{var n;const o=[].concat((null===(n=e.hooks)||void 0===n?void 0:n.beforeRequest)||[]);return null==o?void 0:o.reduce(((e,t)=>t(e)),t)},afterRequest:async(t,n)=>{var o;const i=[].concat((null===(o=e.hooks)||void 0===o?void 0:o.afterRequest)||[]);(await Promise.allSettled(null==i?void 0:i.map((e=>e(t,null==n?void 0:n.clone()))))).forEach((t=>{var n;return"rejected"===t.status&&(null===(n=e.logger)||void 0===n?void 0:n.error(t.reason))}))}}})))),Zt=Object.assign(Bt,{DeliveryMethods:He});var Gt={default:"endpoint"},Xt="Blocked by CSP",Yt="The endpoint parameter is not a valid URL",Qt="Failed to load the JS script of the agent",en="9319";function tn(e,t){var n,o,i,r,s=[],a=(n=function(e){var t=function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}([],e,!0);return{current:function(){return t[0]},postpone:function(){var e=t.shift();void 0!==e&&t.push(e)},exclude:function(){t.shift()}}}(e),100,3e3,r=0,o=function(){return Math.random()*Math.min(3e3,100*Math.pow(2,r++))},i=new Set,[n.current(),function(e,t){var r,s=t instanceof Error?t.message:"";if(s===Xt||s===Yt)n.exclude(),r=0;else if(s===en)n.exclude();else if(s===Qt){var a=Date.now()-e.getTime()<50,l=n.current();l&&a&&!i.has(l)&&(i.add(l),r=0),n.postpone()}else n.postpone();var c=n.current();return void 0===c?void 0:[c,null!=r?r:e.getTime()+o()-Date.now()]}]),l=a[0],c=a[1];if(void 0===l)return Promise.reject(new TypeError("The list of script URL patterns is empty"));var d=function(e){var n=new Date,o=function(t){return s.push({url:e,startedAt:n,finishedAt:new Date,error:t})},i=t(e);return i.then((function(){return o()}),o),i.catch((function(e){if(s.length>=5)throw e;var t=c(n,e);if(!t)throw e;var o,i=t[0],r=t[1];return(o=r,new Promise((function(e){return setTimeout(e,o)}))).then((function(){return d(i)}))}))};return d(l).then((function(e){return[e,s]}))}var nn="https://fpnpmcdn.net/v<version>/<apiKey>/loader_v<loaderVersion>.js",on=nn;function rn(n){var o;n.scriptUrlPattern;var i=n.token,r=n.apiKey,s=void 0===r?i:r,a=t(n,["scriptUrlPattern","token","apiKey"]),l=null!==(o=function(e,t){return function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,t)?e[t]:void 0}(n,"scriptUrlPattern"))&&void 0!==o?o:nn,c=function(){var e=[],t=function(){e.push({time:new Date,state:document.visibilityState})},n=function(e,t,n,o){return e.addEventListener(t,n,o),function(){return e.removeEventListener(t,n,o)}}(document,"visibilitychange",t);return t(),[e,n]}(),d=c[0],u=c[1];return Promise.resolve().then((function(){if(!s||"string"!=typeof s)throw new Error("API key required");var e=function(e,t){return(Array.isArray(e)?e:[e]).map((function(e){return function(e,t){var n=encodeURIComponent;return e.replace(/<[^<>]+>/g,(function(e){return"<version>"===e?"3":"<apiKey>"===e?n(t):"<loaderVersion>"===e?n("3.9.3"):e}))}(String(e),t)}))}(l,s);return tn(e,sn)})).catch((function(e){throw u(),function(e){return e instanceof Error&&e.message===en?new Error(Qt):e}(e)})).then((function(t){var n=t[0],o=t[1];return u(),n.load(e(e({},a),{ldi:{attempts:o,visibilityStates:d}}))}))}function sn(e){return function(e,t,n,o){var i,r=document,s="securitypolicyviolation",a=function(t){var n=new URL(e,location.href),o=t.blockedURI;o!==n.href&&o!==n.protocol.slice(0,-1)&&o!==n.origin||(i=t,l())};r.addEventListener(s,a);var l=function(){return r.removeEventListener(s,a)};return Promise.resolve().then(t).then((function(e){return l(),e}),(function(e){return new Promise((function(e){return setTimeout(e)})).then((function(){if(l(),i)return function(){throw new Error(Xt)}();throw e}))}))}(e,(function(){return function(e){return new Promise((function(t,n){if(function(e){if(URL.prototype)try{return new URL(e,location.href),!1}catch(e){if(e instanceof Error&&"TypeError"===e.name)return!0;throw e}}(e))throw new Error(Yt);var o=document.createElement("script"),i=function(){var e;return null===(e=o.parentNode)||void 0===e?void 0:e.removeChild(o)},r=document.head||document.getElementsByTagName("head")[0];o.onload=function(){i(),t()},o.onerror=function(){i(),n(new Error(Qt))},o.async=!0,o.src=e,r.appendChild(o)}))}(e)})).then(an)}function an(){var e=window,t="__fpjs_p_l_b",n=e[t];if(function(e,t){var n,o=null===(n=Object.getOwnPropertyDescriptor)||void 0===n?void 0:n.call(Object,e,t);(null==o?void 0:o.configurable)?delete e[t]:o&&!o.writable||(e[t]=void 0)}(e,t),"function"!=typeof(null==n?void 0:n.load))throw new Error(en);return n}
/*! js-cookie v3.0.5 | MIT */function ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}var cn=function e(t,n){function o(e,o,i){if("undefined"!=typeof document){"number"==typeof(i=ln({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var s in i)i[s]&&(r+="; "+s,!0!==i[s]&&(r+="="+i[s].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+r}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],o={},i=0;i<n.length;i++){var r=n[i].split("="),s=r.slice(1).join("=");try{var a=decodeURIComponent(r[0]);if(o[a]=t.read(s,a),e===a)break}catch(e){}}return e?o[e]:o}},remove:function(e,t){o(e,"",ln({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,ln({},this.attributes,t))},withConverter:function(t){return e(ln({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const dn=(e,t)=>{var n;return["beforeRequest","afterRequest"].reduce(((n,o)=>{var i;return n[o]=[].concat((null===(i=e.hooks)||void 0===i?void 0:i[o])||[]).concat((null==t?void 0:t[o])||[]),n}),null!==(n=e.hooks)&&void 0!==n?n:e.hooks={}),e},un=async e=>{if(!(null==e?void 0:e.ok))return{};const t=await(null==e?void 0:e.clone().json());return(null==t?void 0:t.authInfo)||t||{}},hn=async e=>{const t=await un(e);return(null==t?void 0:t.user)||((null==t?void 0:t.hasOwnProperty("userId"))?t:void 0)},pn="undefined"!=typeof localStorage,gn=(e,t)=>pn&&(null===localStorage||void 0===localStorage?void 0:localStorage.setItem(e,t)),fn=e=>pn&&(null===localStorage||void 0===localStorage?void 0:localStorage.getItem(e)),vn=e=>pn&&(null===localStorage||void 0===localStorage?void 0:localStorage.removeItem(e)),mn=(...e)=>{console.debug(...e)},bn="undefined"!=typeof window,wn=Math.pow(2,31)-1,yn=bn&&(null===localStorage||void 0===localStorage?void 0:localStorage.getItem("fingerprint.endpoint.url"))||"https://api.descope.com",In="fp",kn=(e=!1)=>{const t=localStorage.getItem(In);if(!t)return null;const n=JSON.parse(t);return(new Date).getTime()>n.expiry&&!e?null:n.value},On=async(e,t=yn)=>{try{if(kn())return;const n=(Date.now().toString(36)+Math.random().toString(36).substring(2)+Math.random().toString(36).substring(2)).substring(0,27),o=new URL(t);o.pathname="/fXj8gt3x8VulJBna/x96Emn69oZwcd7I6";const i=new URL(t);i.pathname="/fXj8gt3x8VulJBna/w78aRZnnDZ3Aqw0I";const r=i.toString()+"?apiKey=<apiKey>&version=<version>&loaderVersion=<loaderVersion>",s=rn({apiKey:e,endpoint:[o.toString(),Gt],scriptUrlPattern:[r,on]}),a=await s,{requestId:l}=await a.get({linkedId:n}),c=((e,t)=>({vsid:e,vrid:t}))(n,l);(e=>{const t={value:e,expiry:(new Date).getTime()+864e5};localStorage.setItem(In,JSON.stringify(t))})(c)}catch(e){console.warn("Could not load fingerprint",e)}},Cn=e=>{const t=kn(!0);return t&&e.body&&(e.body.fpData=t),e},xn="dls_last_user_login_id",jn="dls_last_user_display_name",Sn=()=>fn(xn),An=()=>fn(jn),En=e=>async(...t)=>{var n;t[1]=t[1]||{};const[,o={}]=t,i=Sn(),r=An();return i&&(null!==(n=o.lastAuth)&&void 0!==n||(o.lastAuth={}),o.lastAuth.loginId=i,o.lastAuth.name=r),await e(...t)},Un=e=>async(...t)=>{const n=await e(...t);return vn(xn),vn(jn),n};function Tn(){const e=[];return{pub:t=>{e.forEach((e=>e(t)))},sub:t=>{const n=e.push(t)-1;return()=>e.splice(n,1)}}}const Rn="DS",Ln="DSR";function Pn(e=""){return fn(`${e}${Ln}`)||""}function $n(e=""){vn(`${e}${Ln}`),vn(`${e}${Rn}`),cn.remove(Rn)}async function Mn(e){const t=function(e){var t;const n=JSON.parse(e);return n.publicKey.challenge=Fn(n.publicKey.challenge),n.publicKey.user.id=Fn(n.publicKey.user.id),null===(t=n.publicKey.excludeCredentials)||void 0===t||t.forEach((e=>{e.id=Fn(e.id)})),n}(e);return n=await navigator.credentials.create(t),JSON.stringify({id:n.id,rawId:Kn(n.rawId),type:n.type,response:{attestationObject:Kn(n.response.attestationObject),clientDataJSON:Kn(n.response.clientDataJSON)}});var n}async function Wn(e){const t=Nn(e);return _n(await navigator.credentials.get(t))}async function Dn(e,t){const n=Nn(e);return n.signal=t.signal,n.mediation="conditional",_n(await navigator.credentials.get(n))}async function qn(e=!1){if(!bn)return Promise.resolve(!1);const t=!!(window.PublicKeyCredential&&navigator.credentials&&navigator.credentials.create&&navigator.credentials.get);return t&&e&&PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable?PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable():t}function Nn(e){var t;const n=JSON.parse(e);return n.publicKey.challenge=Fn(n.publicKey.challenge),null===(t=n.publicKey.allowCredentials)||void 0===t||t.forEach((e=>{e.id=Fn(e.id)})),n}function _n(e){return JSON.stringify({id:e.id,rawId:Kn(e.rawId),type:e.type,response:{authenticatorData:Kn(e.response.authenticatorData),clientDataJSON:Kn(e.response.clientDataJSON),signature:Kn(e.response.signature),userHandle:e.response.userHandle?Kn(e.response.userHandle):void 0}})}function Fn(e){const t=e.replace(/_/g,"/").replace(/-/g,"+");return Uint8Array.from(atob(t),(e=>e.charCodeAt(0))).buffer}function Kn(e){return btoa(String.fromCharCode.apply(null,new Uint8Array(e))).replace(/\//g,"_").replace(/\+/g,"-").replace(/=/g,"")}var Hn,Jn=(Hn=e=>({async signUp(t,n){const o=await e.webauthn.signUp.start(t,window.location.origin,n);if(!o.ok)return o;const i=await Mn(o.data.options);return await e.webauthn.signUp.finish(o.data.transactionId,i)},async signIn(t){const n=await e.webauthn.signIn.start(t,window.location.origin);if(!n.ok)return n;const o=await Wn(n.data.options);return await e.webauthn.signIn.finish(n.data.transactionId,o)},async signUpOrIn(t){var n;const o=await e.webauthn.signUpOrIn.start(t,window.location.origin);if(!o.ok)return o;if(null===(n=o.data)||void 0===n?void 0:n.create){const t=await Mn(o.data.options);return await e.webauthn.signUp.finish(o.data.transactionId,t)}{const t=await Wn(o.data.options);return await e.webauthn.signIn.finish(o.data.transactionId,t)}},async update(t,n){const o=await e.webauthn.update.start(t,window.location.origin,n);if(!o.ok)return o;const i=await Mn(o.data.options);return await e.webauthn.update.finish(o.data.transactionId,i)},helpers:{create:Mn,get:Wn,isSupported:qn,conditional:Dn}}),(...e)=>{const t=Hn(...e);return Object.assign(t.signUp,e[0].webauthn.signUp),Object.assign(t.signIn,e[0].webauthn.signIn),Object.assign(t.signUpOrIn,e[0].webauthn.signUpOrIn),Object.assign(t.update,e[0].webauthn.update),t});const Vn=e=>({async oneTap(t,n,o,i){const r=null!=t?t:"google",s=await e.oauth.startNative(r,o);if(!s.ok)return s;const{clientId:a,stateId:l,nonce:c}=s.data,d=await async function(){return new Promise(((e,t)=>{if(window.google)return void e(window.google.accounts.id);let n=document.getElementById("google-gsi-client-script");n||(n=document.createElement("script"),document.head.appendChild(n),n.async=!0,n.defer=!0,n.id="google-gsi-client-script",n.src="https://accounts.google.com/gsi/client"),n.onload=function(){window.google?e(window.google.accounts.id):t("Failed to load Google GSI client script - not loaded properly")},n.onerror=function(){t("Failed to load Google GSI client script - failed to load")}}))}();return new Promise((t=>{var o,s;d.initialize(Object.assign(Object.assign({},n),{itp_support:null===(o=null==n?void 0:n.itp_support)||void 0===o||o,use_fedcm_for_prompt:null===(s=null==n?void 0:n.use_fedcm_for_prompt)||void 0===s||s,client_id:a,callback:n=>{t(e.oauth.finishNative(r,l,"","",n.credential))},nonce:c})),d.prompt((e=>{(null==e?void 0:e.isSkippedMoment())&&(null==i||i())}))}))}});var zn=e=>Object.assign(Object.assign({},e.flow),{start:async(...t)=>{const n=await qn(),o=Object.assign(Object.assign({location:window.location.href},t[1]),{deviceInfo:{webAuthnSupport:n},startOptionsVersion:1});return t[1]=o,e.flow.start(...t)}});const Bn=function(...e){return t=>e.reduce(((e,t)=>t(e)),t)}((e=>n=>{var{fpKey:o,fpLoad:i}=n,r=t(n,["fpKey","fpLoad"]);return bn?(o&&i&&On(o).catch((()=>null)),e(dn(r,{beforeRequest:Cn}))):(console.warn("Fingerprint is a client side only capability and will not work when running in the server"),e(r))}),(e=>n=>{var{autoRefresh:o}=n,i=t(n,["autoRefresh"]);if(!o)return e(i);const{clearAllTimers:r,setTimer:s}=(()=>{const e=[];return{clearAllTimers:()=>{for(;e.length;)clearTimeout(e.pop())},setTimer:(t,n)=>{e.push(setTimeout(t,n))}}})();let a,l;document.addEventListener("visibilitychange",(()=>{"visible"===document.visibilityState&&new Date>a&&(mn("Expiration time passed, refreshing session"),c.refresh(l))}));const c=e(dn(i,{afterRequest:async(e,t)=>{const{refreshJwt:n,sessionJwt:o}=await un(t);if(401===(null==t?void 0:t.status))mn("Received 401, canceling all timers"),r();else if(o){a=(e=>{const t=e.split(".");try{if(3===t.length){const e=JSON.parse(window.atob(t[1]));if(e.exp)return new Date(1e3*e.exp)}}catch(e){}return null})(o),l=n;let e=((i=a)?i.getTime()-(new Date).getTime():0)-2e4;e>wn&&(mn(`Timeout is too large (${e}ms), setting it to ${wn}ms`),e=wn),r();const t=new Date(Date.now()+e).toLocaleTimeString("en-US",{hour12:!1});mn(`Setting refresh timer for ${t}. (${e}ms)`),s((()=>{mn("Refreshing session due to timer"),c.refresh(n)}),e)}var i}}));return Ne(c,["logout","logoutAll"],(e=>async(...t)=>{const n=await e(...t);return mn("Clearing all timers"),r(),n}))}),(e=>t=>e(Object.assign(Object.assign({},t),{baseHeaders:Object.assign({"x-descope-sdk-name":"web-js","x-descope-sdk-version":"1.10.44"},t.baseHeaders)}))),(e=>t=>{const n=Tn(),o=Tn(),i=e(dn(t,{afterRequest:async(e,t)=>{if(401===(null==t?void 0:t.status))n.pub(null),o.pub(null);else{const e=await hn(t);e&&o.pub(e);const{sessionJwt:i}=await un(t);i&&n.pub(i)}}})),r=Ne(i,["logout","logoutAll"],(e=>async(...t)=>{const i=await e(...t);return n.pub(null),o.pub(null),i}));return Object.assign(r,{onSessionTokenChange:n.sub,onUserChange:o.sub})}),(e=>n=>{var{storeLastAuthenticatedUser:o=!0}=n,i=t(n,["storeLastAuthenticatedUser"]);if(!o)return Object.assign(e(i),{getLastUserLoginId:Sn,getLastUserDisplayName:An});const r=e(dn(i,{afterRequest:async(e,t)=>{var n;const o=await hn(t),i=null===(n=null==o?void 0:o.loginIds)||void 0===n?void 0:n[0],r=null==o?void 0:o.name;i&&((e=>{gn(xn,e)})(i),(e=>{gn(jn,e)})(r))}}));let s=Ne(r,["flow.start"],En);return s=Ne(s,["logout","logoutAll"],Un),Object.assign(s,{getLastUserLoginId:Sn,getLastUserDisplayName:An})}),(e=>n=>{var{persistTokens:o,sessionTokenViaCookie:i,storagePrefix:r}=n,s=t(n,["persistTokens","sessionTokenViaCookie","storagePrefix"]);if(!o||!bn)return o&&console.warn("Storing auth tokens in local storage and cookies are a client side only capabilities and will not be done when running in the server"),e(s);const a=e(dn(s,{beforeRequest:(l=r,e=>Object.assign(e,{token:e.token||Pn(l)})),afterRequest:async(e,n)=>{const o=/^\/v\d+\/mgmt\//.test(e.path);401===(null==n?void 0:n.status)?o||$n(r):((e={},n,o)=>{var{refreshJwt:i,sessionJwt:r}=e,s=t(e,["refreshJwt","sessionJwt"]);void 0===n&&(n=!1),void 0===o&&(o=""),i&&gn(`${o}${Ln}`,i),r&&(n?function(e,t,{cookiePath:n,cookieDomain:o,cookieExpiration:i}){if(t){const r=new Date(1e3*i),s=function(e){const t=window.location.hostname.split("."),n=e.split(".");return t.slice(-n.length).join(".")===e}(o);cn.set(e,t,{path:n,domain:s?o:void 0,expires:r,sameSite:"Strict",secure:!0})}}(Rn,r,s):gn(`${o}${Rn}`,r))})(await un(n),i,r)}}));var l;const c=Ne(a,["logout","logoutAll"],(e=>t=>async(...n)=>{const o=await t(...n);return $n(e),o})(r));return Object.assign(c,{getRefreshToken:()=>Pn(r),getSessionToken:()=>function(e=""){return cn.get(Rn)||fn(`${e}${Rn}`)||""}(r)})}))(((...e)=>{const t=Zt(...e);return Object.assign(Object.assign({},t),{flow:zn(t),webauthn:Jn(t),fedcm:Vn(t)})})),Zn="undefined"!=typeof localStorage,Gn=Zn&&localStorage.getItem("base.content.url")||"https://static.descope.com/pages",Xn="config.json",Yn="base.ui.components.url",Qn=Zn&&localStorage.getItem(Yn)||"https://static.descope.com/npm/@descope/web-components-ui@<version>/dist/umd/index.js",eo=Zn&&localStorage.getItem(Yn)||"https://cdn.jsdelivr.net/npm/@descope/web-components-ui@<version>/dist/umd/index.js",to="descope-login-flow",no="code",oo="ra-challenge",io="ra-callback",ro="ra-backup-callback",so="ra-initiator",ao="data-exclude-field",lo="dls_last_auth",co="state_id",uo="saml_idp_state_id",ho="saml_idp_username",po="descope_idp_initiated",go="sso_app_id",fo="oidc_login_hint",vo="data-type",mo="redirect",bo="poll",wo="webauthnCreate",yo="webauthnGet",Io="loadForm",ko="submit",Oo="polling",Co=["descope-multi-select-combo-box","descope-text-area"];var xo;function jo(e){return new URLSearchParams(window.location.search).get(e)}function So(e){if(window.history.replaceState&&jo(e)){const t=new URL(window.location.href),n=new URLSearchParams(t.search);n.delete(e),t.search=n.toString(),window.history.replaceState({},"",t.toString())}}function Ao(e,t){return n(this,void 0,void 0,(function*(){const n=yield fetch(e,{cache:"default"});if(!n.ok)throw Error(`Error fetching URL ${e} [${n.status}]`);return{body:yield n[t||"text"](),headers:Object.fromEntries(n.headers.entries())}}))}!function(e){e.backward="backward",e.forward="forward"}(xo||(xo={}));function Eo(e,t,n="v2-beta"){const o=new URL(Gn);return o.pathname=((...e)=>e.join("/").replace(/\/+/g,"/"))(o.pathname,e,n,t),o.toString()}function Uo(e,t){if(!Number.isNaN(e)&&!Number.isNaN(t))return e>t?xo.forward:e<t?xo.backward:void 0}const To=()=>{const[e="",t=""]=(jo(to)||"").split("_");return{executionId:e,stepId:t}};function Ro(){So(to)}const Lo=e=>e.replace(/-./g,(e=>e[1].toUpperCase())),Po=()=>{const{executionId:e,stepId:t}=To();(e||t)&&Ro();const n=jo("t")||void 0;n&&So("t");const o=jo(no)||void 0;o&&So(no);const i=jo("err")||void 0;i&&So("err");const{redirectAuthCodeChallenge:r,redirectAuthCallbackUrl:s,redirectAuthBackupCallbackUri:a,redirectAuthInitiator:l}={redirectAuthCodeChallenge:jo(oo),redirectAuthCallbackUrl:jo(io),redirectAuthBackupCallbackUri:jo(ro),redirectAuthInitiator:jo(so)};(r||s||a||l)&&(So(oo),So(io),So(ro),So(so));const c=jo(co);c&&So(co);const d=jo(uo);d&&So(uo);const u=jo(ho);d&&So(ho);const h=jo(po);h&&So(po);const p=jo(go);p&&So(go);const g=jo(fo);g&&So(fo);return{executionId:e,stepId:t,token:n,code:o,exchangeError:i,redirectAuthCodeChallenge:r,redirectAuthCallbackUrl:s,redirectAuthBackupCallbackUri:a,redirectAuthInitiator:l,oidcIdpStateId:c,samlIdpStateId:d,samlIdpUsername:u,descopeIdpInitiated:"true"===h,ssoAppId:p,oidcLoginHint:g}},$o=e=>{let t,n;return(...o)=>{return t&&(r=o,(i=t).length===r.length&&i.every(((e,t)=>e===r[t])))||(t=o,n=e(...o)),n;var i,r}};const Mo=(e,t,n,o,i,r)=>e&&!t&&(e&&!n&&!o)&&(e&&!i)&&(e&&!r),Wo=e=>null==e?void 0:e.submit(),Do=(e,t)=>{const n=t.find((t=>e[t]));return n?e[n]:null},qo=(e,t=100)=>{let n;return function(...o){n||e.apply(this,o),clearTimeout(n),n=setTimeout((()=>{n=null}),t)}};var No,_o,Fo,Ko;function Ho(e,t){const n=Object.getOwnPropertyNames(e),o=Object.getOwnPropertyNames(t);if(n.length!==o.length)return!1;for(let o=0;o<n.length;o+=1){const i=n[o],r=e[i],s=t[i];if(null===r||null===s){if(r!==s)return!1}else if("object"==typeof r&&"object"==typeof s){if(!Ho(r,s))return!1}else if(r!==s)return!1}return!0}class Jo{constructor(e={},{updateOnlyOnChange:t=!0}={}){No.set(this,void 0),_o.set(this,{}),Fo.set(this,0),Ko.set(this,!1),this.update=e=>{const t="function"==typeof e?e(o(this,No,"f")):e,n=Object.assign(Object.assign({},o(this,No,"f")),t);if(!o(this,Ko,"f")||!Ho(o(this,No,"f"),n)){const e=o(this,No,"f");i(this,No,n,"f"),Object.freeze(o(this,No,"f")),setTimeout((()=>{Object.values(o(this,_o,"f")).forEach((t=>t(n,e,((e,t)=>n=>e[n]!==t[n])(n,e))))}),0)}},i(this,No,e,"f"),i(this,Ko,t,"f")}get current(){return Object.assign({},o(this,No,"f"))}subscribe(e){return i(this,Fo,o(this,Fo,"f")+1,"f"),o(this,_o,"f")[o(this,Fo,"f")]=e,o(this,Fo,"f").toString()}unsubscribe(e){const t=!!o(this,_o,"f")[e];return t&&delete o(this,_o,"f")[e],t}unsubscribeAll(){return i(this,_o,{},"f"),!0}}No=new WeakMap,_o=new WeakMap,Fo=new WeakMap,Ko=new WeakMap;const Vo=["disabled"],zo=(e,t)=>{Object.entries(t||{}).forEach((([t,n])=>{Array.from(e.querySelectorAll(`*[name="${t}"]:not([${ao}])`)).forEach((e=>{e.value=n}))}))},Bo=(e,t)=>e.replace(/{{(.+?)}}/g,((e,n)=>{return o=t,n.split(".").reduce(((e,t)=>(null==e?void 0:e[t])||""),o);var o})),Zo=(e,t,n)=>{e.querySelectorAll(`[${vo}="${t}"]`).forEach((e=>{e.setAttribute("href",n)}))},Go=(e,t,n)=>{var o,i;const r=null===(o=customElements.get(t))||void 0===o?void 0:o.cssVarList.url;n&&r&&(null===(i=null==e?void 0:e.style)||void 0===i||i.setProperty(r,`url(data:image/jpg;base64,${n})`))},Xo=(e,t,n,o,i,r)=>{var s,a;let l=null==t?void 0:t.errorText;try{l=(null==i?void 0:i({text:null==t?void 0:t.errorText,type:null==t?void 0:t.errorType}))||(null==t?void 0:t.errorText)}catch(e){r.error("Error transforming error message",e.message)}((e,t,n="")=>{e.querySelectorAll(`[${vo}="${t}"]`).forEach((e=>{e.textContent=n,e.classList[n?"remove":"add"]("hide")}))})(e,"error-message",l),Zo(e,"totp-link",null===(s=null==t?void 0:t.totp)||void 0===s?void 0:s.provisionUrl),Zo(e,"notp-link",null===(a=null==t?void 0:t.notp)||void 0===a?void 0:a.redirectUrl),((e,t)=>{e.querySelectorAll("descope-text,descope-link").forEach((e=>{e.textContent=Bo(e.textContent,t)}))})(e,t),((e,t,n)=>{t&&Object.keys(t).forEach((o=>{e.querySelectorAll(`[name=${o}]`).forEach((e=>{const i=t[o];Object.keys(i).forEach((t=>{let o=i[t];if("string"!=typeof o)try{o=JSON.stringify(o)}catch(e){n.error(`Could not stringify value "${o}" for "${t}"`,e.message),o=""}e.setAttribute(t,o)}))}))}))})(e,n,r),((e,t)=>{e.querySelectorAll("[data-has-dynamic-attr-values]").forEach((e=>{Array.from(e.attributes).forEach((e=>{e.value=Bo(e.value,t)}))}))})(e,t),((e,t)=>{Object.entries(t).forEach((([t,n])=>{e.querySelectorAll(`[name="${t}"]`).forEach((e=>{Object.entries(n).forEach((([t,n])=>{Vo.includes(t)&&e.setAttribute(t,n)}))}))}))})(e,o)},Yo=$o((()=>n(void 0,void 0,void 0,(function*(){var e,t,n,o,i;if(!window.PublicKeyCredential||!PublicKeyCredential.isConditionalMediationAvailable||!PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable)return!1;try{const r=Promise.all([null===(e=window.PublicKeyCredential)||void 0===e?void 0:e.isConditionalMediationAvailable(),null===(t=window.PublicKeyCredential)||void 0===t?void 0:t.isUserVerifyingPlatformAuthenticatorAvailable()]).then((e=>e.every((e=>!!e)))),s=(()=>{var e;const t=null===(e=null===navigator||void 0===navigator?void 0:navigator.userAgentData)||void 0===e?void 0:e.brands,n=null==t?void 0:t.find((({brand:e,version:t})=>"Chromium"===e&&parseFloat(t)));return n?n.version:0})()>=108;return yield(n=100,o=r,i=s,new Promise(((e,t)=>{let r=!1;const s=setTimeout((()=>{r=!0,void 0!==i?e(i):t(new Error(`Promise timed out after ${n} ms`))}),n);o.then((t=>{r||(clearTimeout(s),e(t))})).catch((e=>{r||(clearTimeout(s),t(e))}))})))}catch(e){return console.error("Conditional login check failed",e),!1}})))),Qo=(e,t,n,o={})=>{var i,r,s,a;return[Math.min(Math.max(t,("all"===o.left?e.offsetWidth:null!==(i=o.left)&&void 0!==i?i:0)-e.offsetWidth),window.innerWidth-("all"===o.right?e.offsetWidth:null!==(r=o.right)&&void 0!==r?r:0)),Math.min(Math.max(n,("all"===o.top?e.offsetHeight:null!==(s=o.top)&&void 0!==s?s:0)-e.offsetHeight),window.innerHeight-("all"===o.bottom?e.offsetHeight:null!==(a=o.bottom)&&void 0!==a?a:0))]},ei={"lastAuth.loginId":{"not-empty":e=>!!e.loginId,empty:e=>!e.loginId},idpInitiated:{"is-true":e=>!!e.code,"is-false":e=>!e.code},externalToken:{"is-true":e=>!!e.token,"is-false":e=>!e.token},abTestingKey:{"greater-than":(e,t)=>(e.abTestingKey||0)>t,"less-than":(e,t)=>(e.abTestingKey||0)<t}};function ti(e){const t={};if(e)try{Object.assign(t,JSON.parse(localStorage.getItem(lo)))}catch(e){}return t}const ni="dls_ab_testing_id",oi=document.createElement("template");oi.innerHTML='\n\t<style>\n\t\t:host {\n      all: initial;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t}\n\n\t\t#wc-root {\n\t\t\theight: 100%;\n\t\t\ttransition: opacity 300ms ease-in-out;\n\t\t}\n\n\t\t#wc-root[data-theme] {\n\t\t\tbackground-color: transparent;\n\t\t}\n\n\t\t.fade-out {\n\t\t\topacity: 0.1;\n\t\t}\n\n\t</style>\n\t<div id="wc-root"></div>\n\t';var ii,ri,si,ai,li,ci,di,ui,hi,pi,gi,fi,vi,mi,bi,wi,yi,Ii,ki,Oi,Ci,xi,ji,Si,Ai,Ei,Ui,Ti,Ri,Li,Pi,$i,Mi,Wi,Di,qi,Ni,_i,Fi,Ki,Hi,Ji,Vi,zi,Bi,Zi,Gi,Xi,Yi,Qi,er,tr,nr,or,ir,rr,sr,ar,lr,cr;class dr extends HTMLElement{static get observedAttributes(){return["project-id","flow-id","base-url","tenant","theme","locale","debug","storage-prefix","preview","redirect-url","auto-focus","store-last-authenticated-user"]}constructor(e){super(),ii.add(this),this.logger=console,ri.set(this,!1),this.loggerWrapper={error:(e,t="")=>{this.logger.error(e,t,new Error),o(this,ii,"m",Ri).call(this,e,t)},warn:(e,t="")=>{this.logger.warn(e,t)},info:(e,t="",n={})=>{this.logger.info(e,t,n)},debug:(e,t="")=>{this.logger.debug(e,t)}},si.set(this,new Jo({deferredRedirect:!1})),ai.set(this,new Jo),li.set(this,{}),this.getComponentsContext=()=>o(this,li,"f"),this.nextRequestStatus=new Jo({isLoading:!1}),ci.set(this,void 0),di.set(this,{popstate:o(this,ii,"m",vi).bind(this),visibilitychange:o(this,ii,"m",mi).bind(this),componentsContext:o(this,ii,"m",Ai).bind(this)}),ui.set(this,void 0),ki.set(this,$o((()=>n(this,void 0,void 0,(function*(){const e=Eo(this.projectId,Xn);try{const{body:t,headers:n}=yield Ao(e,"json");return{projectConfig:t,executionContext:{geo:n["x-geo"]}}}catch(e){return{isMissingConfig:!0}}}))))),Ci.set(this,void 0),i(this,ui,e,"f"),o(this,ii,"m",hi).call(this)}get projectId(){return this.getAttribute("project-id")}get flowId(){return this.getAttribute("flow-id")}get client(){try{return JSON.parse(this.getAttribute("client"))||{}}catch(e){return{}}}get baseUrl(){return this.getAttribute("base-url")||void 0}get tenant(){return this.getAttribute("tenant")||void 0}get redirectUrl(){return this.getAttribute("redirect-url")||void 0}get debug(){return"true"===this.getAttribute("debug")}get locale(){return this.getAttribute("locale")||void 0}get theme(){var e,t;const n=this.getAttribute("theme");if("os"===n){return window.matchMedia&&(null===(t=null===(e=window.matchMedia)||void 0===e?void 0:e.call(window,"(prefers-color-scheme: dark)"))||void 0===t?void 0:t.matches)?"dark":"light"}return n||"light"}get autoFocus(){var e;const t=null!==(e=this.getAttribute("auto-focus"))&&void 0!==e?e:"true";return"skipFirstScreen"===t?t:"true"===t}get storeLastAuthenticatedUser(){var e;return"true"===(null!==(e=this.getAttribute("store-last-authenticated-user"))&&void 0!==e?e:"true")}get storagePrefix(){return this.getAttribute("storage-prefix")||""}get preview(){return!!this.getAttribute("preview")}get formConfig(){return(e=>{try{const t=JSON.parse(e);return Object.fromEntries(Object.keys(t).map((e=>"string"!=typeof t[e]?[e,t[e]]:[e,{value:t[e]}])).flatMap((([e,t])=>[[e,t],[`form.${e}`,t]])))}catch(e){return{}}})(this.getAttribute("form"))}get formConfigValues(){return e=this.formConfig,t="value",Object.fromEntries(Object.entries(e).map((([e,n])=>[e,n[t]])));var e,t}getExecutionContext(){return n(this,void 0,void 0,(function*(){const{executionContext:e}=yield o(this,ki,"f").call(this);return e}))}getProjectConfig(){return n(this,void 0,void 0,(function*(){const{projectConfig:e}=yield o(this,ki,"f").call(this);return e}))}getFlowConfig(){var e,t;return n(this,void 0,void 0,(function*(){const n=yield this.getProjectConfig(),o=(null===(e=null==n?void 0:n.flows)||void 0===e?void 0:e[this.flowId])||{};return null!==(t=o.version)&&void 0!==t||(o.version=0),o}))}getTargetLocales(){return n(this,void 0,void 0,(function*(){const e=yield this.getFlowConfig();return((null==e?void 0:e.targetLocales)||[]).map((e=>e.toLowerCase()))}))}connectedCallback(){return n(this,void 0,void 0,(function*(){if(this.shadowRoot.isConnected){if(o(this,ai,"f").subscribe(o(this,ii,"m",Ti).bind(this)),o(this,ai,"f").update({isDebug:this.debug}),o(this,ii,"m",pi).call(this))return void o(this,ii,"m",gi).call(this);if(o(this,ii,"m",fi).call(this),i(this,Ci,o(this,ii,"m",Oi).call(this),"f"),yield o(this,ii,"m",yi).call(this))return void this.loggerWrapper.error("This SDK version does not support your flows version","Make sure to upgrade your flows to the latest version or use an older SDK version");if((yield o(this,ki,"f").call(this)).isMissingConfig)return void this.loggerWrapper.error("Cannot get config file","Make sure that your projectId & flowId are correct");o(this,ii,"m",xi).call(this),yield o(this,ii,"m",$i).call(this),yield o(this,ii,"m",ji).call(this),o(this,ii,"m",Li).call(this);const{executionId:e,stepId:t,token:n,code:r,exchangeError:s,redirectAuthCallbackUrl:a,redirectAuthBackupCallbackUri:l,redirectAuthCodeChallenge:c,redirectAuthInitiator:d,oidcIdpStateId:u,samlIdpStateId:h,samlIdpUsername:p,descopeIdpInitiated:g,ssoAppId:f,oidcLoginHint:v}=Po();window.addEventListener("popstate",o(this,di,"f").popstate),window.addEventListener("components-context",o(this,di,"f").componentsContext),window.addEventListener("visibilitychange",o(this,di,"f").visibilitychange),o(this,si,"f").subscribe(o(this,ii,"m",wi).bind(this)),o(this,si,"f").update({projectId:this.projectId,flowId:this.flowId,baseUrl:this.baseUrl,tenant:this.tenant,redirectUrl:this.redirectUrl,locale:this.locale,stepId:t,executionId:e,token:n,code:r,exchangeError:s,redirectAuthCallbackUrl:a,redirectAuthBackupCallbackUri:l,redirectAuthCodeChallenge:c,redirectAuthInitiator:d,oidcIdpStateId:u,samlIdpStateId:h,samlIdpUsername:p,descopeIdpInitiated:g,ssoAppId:f,oidcLoginHint:v}),i(this,ri,!0,"f")}}))}disconnectedCallback(){o(this,si,"f").unsubscribeAll(),o(this,ai,"f").unsubscribeAll(),o(this,ii,"m",Ui).call(this),window.removeEventListener("popstate",o(this,di,"f").popstate),window.removeEventListener("visibilitychange",o(this,di,"f").visibilitychange),window.removeEventListener("components-context",o(this,di,"f").componentsContext)}attributeChangedCallback(e,t,n){if(this.shadowRoot.isConnected&&o(this,ri,"f")&&t!==n&&dr.observedAttributes.includes(e)){o(this,ii,"m",fi).call(this);const i=null===t;o(this,si,"f").update((({stepId:t,executionId:o})=>{let r=t,s=o;return i||(s=null,r=null,Ro()),{[Lo(e)]:n,stepId:r,executionId:s}})),o(this,ai,"f").update({isDebug:this.debug})}}}ri=new WeakMap,si=new WeakMap,ai=new WeakMap,li=new WeakMap,ci=new WeakMap,di=new WeakMap,ui=new WeakMap,ki=new WeakMap,Ci=new WeakMap,ii=new WeakSet,hi=function(){this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(oi.content.cloneNode(!0)),this.rootElement=this.shadowRoot.querySelector("#wc-root")},pi=function(){return!this.shadowRoot.host.closest("form")&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},gi=function(){const e=this.shadowRoot.host,t=document.createElement("form");e.parentElement.appendChild(t),t.appendChild(e)},fi=function(){const e=["base-url","tenant","theme","locale","debug","redirect-url","auto-focus","store-last-authenticated-user","preview","storage-prefix","form","client"];if(dr.observedAttributes.forEach((t=>{if(!e.includes(t)&&!this[Lo(t)])throw Error(`${t} cannot be empty`)})),this.theme&&"light"!==this.theme&&"dark"!==this.theme)throw Error('Supported theme values are "light", "dark", or leave empty for using the OS theme')},vi=function(){const{stepId:e,executionId:t}=To();o(this,si,"f").update({stepId:e,executionId:t})},mi=function(){document.hidden||setTimeout((()=>{o(this,si,"f").update({deferredRedirect:!1})}),300)},bi=function(e,t){this.sdk=Bn(Object.assign(Object.assign({persistTokens:!0,preview:this.preview,storagePrefix:this.storagePrefix,storeLastAuthenticatedUser:this.storeLastAuthenticatedUser},dr.sdkConfigOverrides),{projectId:e,baseUrl:t})),["start","next"].forEach((e=>{const t=this.sdk.flow[e];this.sdk.flow[e]=(...e)=>n(this,void 0,void 0,(function*(){this.nextRequestStatus.update({isLoading:!0});try{return yield t(...e)}finally{this.nextRequestStatus.update({isLoading:!1})}}))}))},wi=function(e,t,i){return n(this,void 0,void 0,(function*(){const{projectId:t,baseUrl:n}=e;if(i("projectId")||i("baseUrl")){if(!t)return;o(this,ii,"m",bi).call(this,t,n)}o(this,ui,"f").call(this,e)}))},yi=function(){return n(this,void 0,void 0,(function*(){return(yield o(this,ki,"f").call(this)).isMissingConfig&&(yield o(this,ii,"m",Ii).call(this))}))},Ii=function(){return n(this,void 0,void 0,(function*(){const e=Eo(this.projectId,Xn,"v2-alpha");try{return yield Ao(e,"json"),!0}catch(e){return!1}}))},Oi=function(){return n(this,void 0,void 0,(function*(){const e=Eo(this.projectId,"theme.json");try{const{body:t}=yield Ao(e,"json");return t}catch(e){return void this.loggerWrapper.error("Cannot fetch theme file","make sure that your projectId & flowId are correct")}}))},xi=function(){var e,t;return n(this,void 0,void 0,(function*(){const{projectConfig:n}=yield o(this,ki,"f").call(this),i=null===(t=null===(e=null==n?void 0:n.cssTemplate)||void 0===e?void 0:e[this.theme])||void 0===t?void 0:t.fonts;i&&Object.values(i).forEach((e=>(e=>{if(!e)return;const t=document.createElement("link");t.href=e,t.rel="stylesheet",document.head.appendChild(t)})(e.url)))}))},ji=function(){return n(this,void 0,void 0,(function*(){yield o(this,ii,"m",Si).call(this),yield o(this,ii,"m",Ei).call(this)}))},Si=function(){var e,t,i,r;return n(this,void 0,void 0,(function*(){const n=document.createElement("style"),s=yield o(this,Ci,"f");n.innerText=((null===(e=null==s?void 0:s.light)||void 0===e?void 0:e.globals)||"")+((null===(t=null==s?void 0:s.dark)||void 0===t?void 0:t.globals)||"");const a=yield dr.descopeUI;(null==a?void 0:a.componentsThemeManager)&&!a.componentsThemeManager.hasThemes&&(a.componentsThemeManager.themes={light:null===(i=null==s?void 0:s.light)||void 0===i?void 0:i.components,dark:null===(r=null==s?void 0:s.dark)||void 0===r?void 0:r.components}),this.shadowRoot.appendChild(n)}))},Ai=function(e){i(this,li,Object.assign(Object.assign({},e.detail),o(this,li,"f")),"f")},Ei=function(){return n(this,void 0,void 0,(function*(){this.rootElement.setAttribute("data-theme",this.theme);const e=yield dr.descopeUI;(null==e?void 0:e.componentsThemeManager)&&(e.componentsThemeManager.currentThemeName=this.theme)}))},Ui=function(){var e;null===(e=o(this,ci,"f"))||void 0===e||e.remove(),i(this,ci,null,"f")},Ti=function({isDebug:e}){return n(this,void 0,void 0,(function*(){e?(i(this,ci,document.createElement("descope-debugger"),"f"),Object.assign(o(this,ci,"f").style,{position:"fixed",top:"0",right:"0",height:"100vh",width:"100vw",pointerEvents:"none",zIndex:99999}),yield Promise.resolve().then((function(){return gr})),document.body.appendChild(o(this,ci,"f"))):o(this,ii,"m",Ui).call(this)}))},Ri=function(e,t){var n;e&&this.debug&&(null===(n=o(this,ci,"f"))||void 0===n||n.updateData({title:e,description:t}))},Li=function(){this.rootElement.onkeydown=e=>{var t,n,o;const i=!!(null===(t=this.shadowRoot.activeElement)||void 0===t?void 0:t.getAttribute("href")),r=Co.includes(null!==(o=null===(n=this.shadowRoot.activeElement)||void 0===n?void 0:n.localName)&&void 0!==o?o:"");if("Enter"!==e.key||i||r)return;e.preventDefault();const s=this.rootElement.querySelectorAll("descope-button");if(1===s.length&&"false"!==s[0].getAttribute("auto-submit"))return void s[0].click();const a=Array.from(s).filter((e=>"true"===e.getAttribute("auto-submit")));if(1===a.length)return void a[0].click();const l=Array.from(s).filter((e=>"button"===e.getAttribute("data-type")));if(1===l.length)"false"!==l[0].getAttribute("auto-submit")&&l[0].click();else if(0===l.length){const e=Array.from(s).filter((e=>"sso"===e.getAttribute("data-type")));1===e.length&&"false"!==e[0].getAttribute("auto-submit")&&e[0].click()}}},Pi=function(){var e,t;return n(this,void 0,void 0,(function*(){const n=null===(t=null===(e=yield o(this,ki,"f").call(this))||void 0===e?void 0:e.projectConfig)||void 0===t?void 0:t.componentsVersion;return n||(this.logger.error("Did not get components version, using latest version"),"latest")}))},$i=function(){return n(this,void 0,void 0,(function*(){dr.descopeUI?this.loggerWrapper.debug("DescopeUI is already loading, probably multiple flows are running on the same page"):dr.descopeUI=new Promise((e=>{if(globalThis.DescopeUI)return void e(globalThis.DescopeUI);const t=e=>{const t=document.createElement("script");return t.id="load-descope-ui",t.src=e,t},i=(e,t)=>e.replace("<version>",t),r=(t,n)=>{const o=()=>{this.loggerWrapper.error("Cannot load DescopeUI",`Make sure this URL is valid and return the correct script: "${t.src}"`),n()};t.addEventListener("load",(()=>{globalThis.DescopeUI||o(),e(globalThis.DescopeUI)})),t.addEventListener("error",o)};(()=>{n(this,void 0,void 0,(function*(){const n=yield o(this,ii,"m",Pi).call(this),s=t(i(Qn,n));r(s,(()=>{s.remove(),this.loggerWrapper.info("Trying to load DescopeUI from a fallback URL");const o=t(i(eo,n));r(o,(()=>{e(void 0)})),document.body.append(o)})),document.body.append(s)}))})()}))}))},dr.sdkConfigOverrides={baseHeaders:{"x-descope-sdk-name":"web-component","x-descope-sdk-version":"3.11.12"}};class ur extends dr{static set sdkConfigOverrides(e){dr.sdkConfigOverrides=e}constructor(){const e=new Jo;super(e.update.bind(e)),Mi.add(this),this.stepState=new Jo({},{updateOnlyOnChange:!1}),Wi.set(this,void 0),Di.set(this,null),qi.set(this,((e,t,r,s,a)=>{r===bo&&i(this,Wi,setTimeout((()=>n(this,void 0,void 0,(function*(){var n;const i=yield this.sdk.flow.next(e,t,Oo,s,a,{});o(this,_i,"f").call(this,i);const{action:r}=null!==(n=null==i?void 0:i.data)&&void 0!==n?n:{};o(this,qi,"f").call(this,e,t,r,s,a)}))),2e3),"f")})),Ni.set(this,(()=>{clearTimeout(o(this,Wi,"f")),i(this,Wi,null,"f")})),_i.set(this,(e=>{var t,n,i,r,s,a,l,c,d;if(!(null==e?void 0:e.ok)){o(this,Mi,"m",Qi).call(this,"error",null==e?void 0:e.error);const a=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.url,l=`${null===(n=null==e?void 0:e.response)||void 0===n?void 0:n.status} - ${null===(i=null==e?void 0:e.response)||void 0===i?void 0:i.statusText}`;return void this.loggerWrapper.error((null===(r=null==e?void 0:e.error)||void 0===r?void 0:r.errorDescription)||a,(null===(s=null==e?void 0:e.error)||void 0===s?void 0:s.errorMessage)||l)}const u=null===(c=null===(l=null===(a=e.data)||void 0===a?void 0:a.screen)||void 0===l?void 0:l.state)||void 0===c?void 0:c.errorText;(null===(d=e.data)||void 0===d?void 0:d.error)?this.loggerWrapper.error(`[${e.data.error.code}]: ${e.data.error.description}`,`${u?`${u} - `:""}${e.data.error.message}`):u&&this.loggerWrapper.error(u);const{status:h,authInfo:p,lastAuth:g}=e.data;if("completed"===h)return this.storeLastAuthenticatedUser&&function(e){(null==e?void 0:e.authMethod)&&Zn&&localStorage.setItem(lo,JSON.stringify(e))}(g),void o(this,Mi,"m",Qi).call(this,"success",p);const{executionId:f,stepId:v,stepName:m,action:b,screen:w,redirect:y,openInNewTabUrl:I,webauthn:k,error:O,samlIdpResponse:C}=e.data;b!==bo?(this.loggerWrapper.info(`Step "${m||`#${v}`}" is ${h}`,"",{screen:w,status:h,stepId:v,stepName:m,action:b,error:O}),this.flowState.update({stepId:v,executionId:f,action:b,redirectTo:null==y?void 0:y.url,openInNewTabUrl:I,screenId:null==w?void 0:w.id,screenState:null==w?void 0:w.state,webauthnTransactionId:null==k?void 0:k.transactionId,webauthnOptions:null==k?void 0:k.options,samlIdpResponseUrl:null==C?void 0:C.url,samlIdpResponseSamlResponse:null==C?void 0:C.samlResponse,samlIdpResponseRelayState:null==C?void 0:C.relayState})):this.flowState.update({action:b})})),Fi.set(this,$o((()=>n(this,void 0,void 0,(function*(){var e;try{const t=yield this.sdk.webauthn.signIn.start("",window.location.origin);return t.ok||this.loggerWrapper.warn("Webauthn start failed",null===(e=null==t?void 0:t.error)||void 0===e?void 0:e.errorMessage),t.data}catch(e){this.loggerWrapper.warn("Webauthn start failed",e.message)}}))))),Zi.set(this,qo(((e,t)=>n(this,void 0,void 0,(function*(){if("true"===e.getAttribute("formnovalidate")||o(this,Mi,"m",Ji).call(this)){const i=null==e?void 0:e.getAttribute("id");o(this,Mi,"m",zi).call(this,e);const r=yield o(this,Mi,"m",Vi).call(this),s=(n=e,Array.from((null==n?void 0:n.attributes)||[]).reduce(((e,t)=>{var n;const o=null===(n=new RegExp("^data-descope-(\\S+)$").exec(t.name))||void 0===n?void 0:n[1];return o?Object.assign(e,{[o]:t.value}):e}),{})),a=this.getComponentsContext(),l=Object.assign(Object.assign(Object.assign(Object.assign({},a),s),r),{origin:window.location.origin}),c=yield this.getFlowConfig(),d=yield this.getProjectConfig(),u=yield t(i,c.version,d.componentsVersion,l);o(this,_i,"f").call(this,u),o(this,Mi,"m",Bi).call(this,r)}var n}))))),this.flowState=e}connectedCallback(){const e=Object.create(null,{connectedCallback:{get:()=>super.connectedCallback}});var t,o;return n(this,void 0,void 0,(function*(){this.shadowRoot.isConnected&&(null===(t=this.flowState)||void 0===t||t.subscribe(this.onFlowChange.bind(this)),null===(o=this.stepState)||void 0===o||o.subscribe(this.onStepChange.bind(this))),yield e.connectedCallback.call(this)}))}disconnectedCallback(){var e;super.disconnectedCallback(),this.flowState.unsubscribeAll(),this.stepState.unsubscribeAll(),null===(e=o(this,Di,"f"))||void 0===e||e.abort(),i(this,Di,null,"f")}getHtmlFilenameWithLocale(e,t){return n(this,void 0,void 0,(function*(){let n,o=navigator.language;o&&"zh-TW"!==o&&(o=o.split("-")[0]);const i=(e||o||"").toLowerCase();return(yield this.getTargetLocales()).includes(i)&&(n=`${t}-${i}.html`),n}))}getPageContent(e,t){return n(this,void 0,void 0,(function*(){if(t)try{const{body:e}=yield Ao(t,"text");return e}catch(n){this.loggerWrapper.error(`Failed to fetch flow page from ${t}. Fallback to url ${e}`,n)}try{const{body:t}=yield Ao(e,"text");return t}catch(e){this.loggerWrapper.error("Failed to fetch flow page",e.message)}return null}))}onFlowChange(e,t,r){var s,a;return n(this,void 0,void 0,(function*(){const{projectId:n,flowId:l,tenant:c,stepId:d,executionId:u,action:h,screenId:p,screenState:g,redirectTo:f,openInNewTabUrl:v,redirectUrl:m,token:b,code:w,exchangeError:y,webauthnTransactionId:I,webauthnOptions:k,redirectAuthCodeChallenge:O,redirectAuthCallbackUrl:C,redirectAuthBackupCallbackUri:x,redirectAuthInitiator:j,oidcIdpStateId:S,locale:A,samlIdpStateId:E,samlIdpUsername:U,descopeIdpInitiated:T,samlIdpResponseUrl:R,samlIdpResponseSamlResponse:L,samlIdpResponseRelayState:P,ssoAppId:$,oidcLoginHint:M}=e;let W,D;const q=(()=>{const e=localStorage.getItem(ni);if(!e){const e=Math.floor(100*Math.random()+1);return localStorage.setItem(ni,e.toString()),e}return Number(e)})(),N=this.sdk.getLastUserLoginId(),_=yield this.getFlowConfig(),F=yield this.getProjectConfig(),K=C&&O?{callbackUrl:C,codeChallenge:O,backupCallbackUri:x}:void 0;if(!u&&(_.fingerprintEnabled&&_.fingerprintKey?yield On(_.fingerprintKey,this.baseUrl):localStorage.removeItem(In),_.conditions?({startScreenId:W,conditionInteractionId:D}=((e,t)=>{const n=null==t?void 0:t.find((({key:t,operator:n,predicate:o})=>{var i;if("ELSE"===t)return!0;const r=null===(i=ei[t])||void 0===i?void 0:i[n];return!!(null==r?void 0:r(e,o))}));return n?{startScreenId:n.met.screenId,conditionInteractionId:n.met.interactionId}:{}})({loginId:N,code:w,token:b,abTestingKey:q},_.conditions)):_.condition?({startScreenId:W,conditionInteractionId:D}=((e,t)=>{var n;const o=null===(n=ei[null==e?void 0:e.key])||void 0===n?void 0:n[e.operator];if(!o)return{};const i=o(t,e.predicate)?e.met:e.unmet;return{startScreenId:null==i?void 0:i.screenId,conditionInteractionId:null==i?void 0:i.interactionId}})(_.condition,{loginId:N,code:w,token:b,abTestingKey:q})):W=_.startScreenId,!Mo(W,S,E,U,$,M))){const e=yield this.sdk.flow.start(l,Object.assign(Object.assign({tenant:c,redirectAuth:K,oidcIdpStateId:S,samlIdpStateId:E,samlIdpUsername:U,ssoAppId:$,oidcLoginHint:M,client:this.client},m&&{redirectUrl:m}),{lastAuth:ti(N),abTestingKey:q}),D,"",_.version,F.componentsVersion,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.formConfigValues),w?{exchangeCode:w,idpInitiated:!0}:{}),T&&{idpInitiated:!0}),b?{token:b}:{}),M?{externalId:M}:{}));return o(this,_i,"f").call(this,e),void("completed"!==(null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.status)&&this.flowState.update({code:void 0,token:void 0}))}if(u&&(r("token")&&b||r("code")&&w||r("exchangeError")&&y)){const e=yield this.sdk.flow.next(u,d,ko,_.version,F.componentsVersion,{token:b,exchangeCode:w,exchangeError:y});return o(this,_i,"f").call(this,e),void this.flowState.update({token:void 0,code:void 0,exchangeError:void 0})}v&&window.open(v,"_blank");if(h===Io&&["samlIdpResponseUrl","samlIdpResponseSamlResponse","samlIdpResponseRelayState"].some((e=>r(e)))){if(!R||!L)return void this.loggerWrapper.error("Did not get saml idp params data to load");((e,t,n,o)=>{const i=document.createElement("form");i.method="POST",i.action=e,i.innerHTML=`\n  <input type="hidden" role="saml-response" name="SAMLResponse" value="${t}" />\n  <input type="hidden" role="saml-relay-state" name="RelayState" value="${n}" />\n  <input style="display: none;" id="SAMLSubmitButton" type="submit" value="Continue" />\n  `,document.body.appendChild(i),o(i)})(R,L,P||"",Wo)}if(h===mo&&(r("redirectTo")||r("deferredRedirect")))return f?"android"===j&&document.hidden?void this.flowState.update({deferredRedirect:!0}):void window.location.assign(f):void this.loggerWrapper.error("Did not get redirect url");if(h===wo||h===yo){if(!I||!k)return void this.loggerWrapper.error("Did not get webauthn transaction id or options");let e,t;null===(a=o(this,Di,"f"))||void 0===a||a.abort(),i(this,Di,null,"f");try{e=h===wo?yield this.sdk.webauthn.helpers.create(k):yield this.sdk.webauthn.helpers.get(k)}catch(e){"InvalidStateError"===e.name?this.loggerWrapper.warn("WebAuthn operation failed",e.message):"NotAllowedError"!==e.name&&this.loggerWrapper.error(e.message),t=e.name}const n=yield this.sdk.flow.next(u,d,ko,_.version,F.componentsVersion,{transactionId:I,response:e,failure:t});o(this,_i,"f").call(this,n)}if(o(this,qi,"f").call(this,u,d,h,_.version,F.componentsVersion),!p&&!W)return void this.loggerWrapper.warn("No screen was found to show");const H=W||p,J=yield this.getHtmlFilenameWithLocale(A,H),V={direction:Uo(+d,+t.stepId),screenState:Object.assign(Object.assign({},g),{form:Object.assign(Object.assign({},this.formConfigValues),null==g?void 0:g.form),lastAuth:{loginId:N,name:this.sdk.getLastUserDisplayName()||N}}),htmlUrl:Eo(n,`${H}.html`),htmlLocaleUrl:J&&Eo(n,J),samlIdpUsername:U,oidcLoginHint:M},z=ti(N);Mo(W,S,E,U,$,M)?V.next=(e,t,n,o)=>this.sdk.flow.start(l,Object.assign({tenant:c,redirectAuth:K,oidcIdpStateId:S,samlIdpStateId:E,samlIdpUsername:U,ssoAppId:$,oidcLoginHint:M,lastAuth:z,preview:this.preview,abTestingKey:q,client:this.client},m&&{redirectUrl:m}),D,e,t,n,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.formConfigValues),o),w&&{exchangeCode:w,idpInitiated:!0}),T&&{idpInitiated:!0}),b&&{token:b})):(r("projectId")||r("baseUrl")||r("executionId")||r("stepId"))&&(V.next=(...e)=>this.sdk.flow.next(u,d,...e)),this.stepState.update(V)}))}loadDescopeUiComponents(e){return n(this,void 0,void 0,(function*(){const t=yield dr.descopeUI;if(!t)return;const o=(e=>[...Array.from(e.querySelectorAll("*")).reduce(((e,t)=>t.tagName.startsWith("DESCOPE-")?e.add(t.tagName.toLocaleLowerCase()):e),new Set)])(e);yield Promise.all(o.map((e=>n(this,void 0,void 0,(function*(){if(!!!customElements.get(e))if(t[e])try{return yield t[e]()}catch(t){if("NotSupportedError"!==t.name)throw t;console.debug(`${e} is already registered`)}else this.loggerWrapper.error(`Cannot load UI component "${e}"`,`Descope UI does not have a component named "${e}", available components are: "${Object.keys(t).join(", ")}"`)})))))}))}onStepChange(e,t){var i,r;return n(this,void 0,void 0,(function*(){const{htmlUrl:s,htmlLocaleUrl:a,direction:l,next:c,screenState:d}=e,u=document.createElement("template");u.innerHTML=yield this.getPageContent(s,a);const h=u.content.cloneNode(!0),p=this.loadDescopeUiComponents(u.content);this.sdk.webauthn.helpers.isSupported()?yield o(this,Mi,"m",Hi).call(this,h,c):h.querySelectorAll(`descope-button[${vo}="biometrics"]`).forEach((e=>e.setAttribute("disabled","true"))),!e.samlIdpUsername||(null===(i=d.form)||void 0===i?void 0:i.loginId)||(null===(r=d.form)||void 0===r?void 0:r.email)||(d.form||(d.form={}),d.form.loginId=e.samlIdpUsername,d.form.email=e.samlIdpUsername),Xo(h,d,d.componentsConfig,this.formConfig,this.errorTransformer,this.loggerWrapper);const{geo:g}=yield this.getExecutionContext();((e,t)=>{Array.from(e.querySelectorAll('descope-phone-field[default-code="autoDetect"]')).forEach((e=>{e.setAttribute("default-code",t)}))})(h,g);const f=()=>n(this,void 0,void 0,(function*(){var e,n;yield p;const i=this.shadowRoot.querySelector("div");var r,s;r=i,s=null===(e=null==d?void 0:d.totp)||void 0===e?void 0:e.image,Go(r,"descope-totp-image",s),((e,t)=>{Go(e,"descope-notp-image",t)})(i,null===(n=null==d?void 0:d.notp)||void 0===n?void 0:n.image),this.rootElement.replaceChildren(h),setTimeout((()=>((e,t)=>{zo(e,null==t?void 0:t.inputs),zo(e,null==t?void 0:t.form)})(this.rootElement,d)));const a=!t.htmlUrl;((e,t,n)=>{if(!0===t||"skipFirstScreen"===t&&!n){const t=e.querySelector("*[name]");setTimeout((()=>{null==t||t.focus()}))}})(this.rootElement,this.autoFocus,a),o(this,Mi,"m",Xi).call(this,c),a&&o(this,Mi,"m",Qi).call(this,"ready",{}),o(this,Mi,"m",Qi).call(this,"page-updated",{});if(this.rootElement.querySelector(`[${vo}="polling"]`)){const e=yield this.getFlowConfig(),t=yield this.getProjectConfig(),n=yield c(Oo,e.version,t.componentsVersion,{});o(this,_i,"f").call(this,n)}}));l?o(this,Mi,"m",Yi).call(this,f,l):f()}))}}Wi=new WeakMap,Di=new WeakMap,qi=new WeakMap,Ni=new WeakMap,_i=new WeakMap,Fi=new WeakMap,Zi=new WeakMap,Mi=new WeakSet,Ki=function(e){const t=e.getAttribute("name");if(!["email"].includes(t)){const n=`user-${t}`;e.setAttribute("name",n),e.addEventListener("input",(()=>{e.setAttribute("name",e.value?t:n)}))}},Hi=function(e,t){var r;return n(this,void 0,void 0,(function*(){null===(r=o(this,Di,"f"))||void 0===r||r.abort();const s=e.querySelector('*[autocomplete="webauthn"]');if(s&&(yield Yo())){const{options:e,transactionId:r}=(yield o(this,Fi,"f").call(this))||{};if(e&&r){o(this,Mi,"m",Ki).call(this,s),i(this,Di,new AbortController,"f");const a=yield this.getFlowConfig(),l=yield this.getProjectConfig();this.sdk.webauthn.helpers.conditional(e,o(this,Di,"f")).then((e=>n(this,void 0,void 0,(function*(){const n=yield t(s.id,a.version,l.componentsVersion,{transactionId:r,response:e});o(this,_i,"f").call(this,n)})))).catch((e=>{"AbortError"!==e.name&&this.loggerWrapper.error("Conditional login failed",e.message)}))}}}))},Ji=function(){return Array.from(this.shadowRoot.querySelectorAll("*[name]")).every((e=>{var t,n;return null===(t=e.reportValidity)||void 0===t||t.call(e),null===(n=e.checkValidity)||void 0===n?void 0:n.call(e)}))},Vi=function(){return n(this,void 0,void 0,(function*(){const e=Array.from(this.shadowRoot.querySelectorAll(`*[name]:not([${ao}])`));return(yield Promise.all(e.map((e=>n(this,void 0,void 0,(function*(){return{name:e.getAttribute("name"),value:e.value}})))))).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.name]:t.value})),{})}))},zi=function(e){const t=this.nextRequestStatus.subscribe((({isLoading:n})=>{n?e.setAttribute("loading","true"):(this.nextRequestStatus.unsubscribe(t),e.removeAttribute("loading"))}))},Bi=function(e={}){var t,n;const o=Do(e,["externalId","email","phone"]),i=Do(e,["newPassword","password"]);if(o&&i)try{const e=new globalThis.PasswordCredential({id:o,password:i});null===(n=null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.store)||void 0===n||n.call(t,e)}catch(e){this.loggerWrapper.error("Could not store credentials",e.message)}},Gi=function(e){this.rootElement.querySelectorAll('descope-passcode[data-auto-submit="true"]').forEach((t=>{t.addEventListener("input",(()=>{var n;(null===(n=t.checkValidity)||void 0===n?void 0:n.call(t))&&o(this,Zi,"f").call(this,t,e)}))}))},Xi=function(e){this.rootElement.querySelectorAll("descope-button:not([data-exclude-next])").forEach((t=>{t.onclick=()=>{o(this,Zi,"f").call(this,t,e)}})),o(this,Mi,"m",Gi).call(this,e)},Yi=function(e,t){this.rootElement.addEventListener("transitionend",(()=>{this.rootElement.classList.remove("fade-out"),e()}),{once:!0});const n=t===xo.forward?"slide-forward":"slide-backward";Array.from(this.rootElement.getElementsByClassName("input-container")).forEach(((e,t)=>{e.style["transition-delay"]=40*t+"ms",e.classList.add(n)})),this.rootElement.classList.add("fade-out")},Qi=function(e,t){this.dispatchEvent(new CustomEvent(e,{detail:t}))},customElements.get("descope-wc")?console.log("descope-wc is already defined"):customElements.define("descope-wc",ur);const hr=document.createElement("template");hr.innerHTML=`\n<style>\n  .debugger {\n    width: 300px;\n    height: 200px;\n    background-color: #FAFAFA;\n    position: fixed;\n    font-family: "Helvetica Neue", sans-serif;\n    box-shadow: rgba(0, 0, 0, 0.1) 0px 5px 10px;\n    border-radius: 8px;\n    overflow: hidden;\n    border: 1px solid lightgrey;\n    pointer-events: initial;\n    display: flex;\n    flex-direction: column;\n    min-width: 200px;\n    max-width: 600px;\n    max-height: calc(100% - 64px);\n    min-height: 200px;\n    resize: both;\n  }\n\n  .header {\n    padding: 8px 16px;\n    display: flex;\n    align-items: center;\n    background-color: #EEEEEE;\n    cursor: move;\n    border-bottom: 1px solid #e0e0e0;\n  }\n\n  .content {\n    font-size: 14px;\n    flex-grow: 1;\n    overflow: auto;\n  }\n\n  .msg {\n    border-bottom: 1px solid lightgrey;\n    padding: 8px 16px;\n    display: flex;\n    gap: 5px;\n    background-color: #FAFAFA;\n  }\n\n  .msg.collapsible {\n    cursor: pointer;\n  }\n\n  .empty-state {\n    padding: 8px 16px;\n    background-color: #FAFAFA;\n  }\n\n\n  .msg.collapsible:not(.collapsed) {\n    background-color: #F5F5F5;\n  }\n\n  .msg_title {\n    padding-bottom: 5px;\n    display: flex;\n    gap: 8px;\n    font-weight: 500;\n  }\n\n  .msg svg {\n    padding: 1px;\n    flex-shrink: 0;\n    margin-top: -2px;\n  }\n\n  .msg_content {\n    overflow: hidden;\n    flex-grow: 1;\n    margin-right:5px;\n  }\n\n  .msg_desc {\n    color: #646464;\n    cursor: initial;\n    word-wrap: break-word;\n  }\n\n  .msg.collapsed .msg_desc {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  .msg.collapsible.collapsed .chevron {\n    transform: rotate(-45deg) translateX(-2px);\n  }\n\n  .msg.collapsible .chevron {\n    content: "";\n    width:6px;\n    height:6px;\n    border-bottom: 2px solid grey;\n    border-right: 2px solid grey;\n    transform: rotate(45deg) translateX(-1px);\n    margin: 5px;\n    flex-shrink:0;\n  }\n</style>\n\n<div style="top:32px; left:${window.innerWidth-300-32}px;" class="debugger">\n  <div class="header">\n    <span>Debugger messages</span>\n  </div>\n  <div class="content">\n    <div class="empty-state">\n      No errors detected \n    </div>\n  </div>\n</div>\n`;class pr extends HTMLElement{constructor(){super(),er.add(this),tr.set(this,new Jo({messages:[]})),nr.set(this,void 0),or.set(this,void 0),ir.set(this,void 0),rr.set(this,{resize:o(this,er,"m",cr).bind(this)}),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(hr.content.cloneNode(!0)),i(this,nr,this.shadowRoot.querySelector(".debugger"),"f"),i(this,or,o(this,nr,"f").querySelector(".content"),"f"),i(this,ir,o(this,nr,"f").querySelector(".header"),"f")}updateData(e){o(this,tr,"f").update((t=>({messages:t.messages.concat(e)})))}connectedCallback(){var e;((e,t,n)=>{let o=0,i=0,r=0,s=0;function a(t){t.preventDefault(),o=r-t.clientX,i=s-t.clientY,r=t.clientX,s=t.clientY;const[a,l]=Qo(e,e.offsetLeft-o,e.offsetTop-i,n);e.style.top=`${l}px`,e.style.left=`${a}px`}function l(){document.onmouseup=null,document.onmousemove=null}function c(e){e.preventDefault(),r=e.clientX,s=e.clientY,document.onmouseup=l,document.onmousemove=a}t?t.onmousedown=c:e.onmousedown=c})(o(this,nr,"f"),o(this,ir,"f"),{top:"all",bottom:100,left:100,right:100}),window.addEventListener("resize",o(this,rr,"f").resize),(e=o(this,nr,"f")).onmousemove=t=>{(t.target.w&&t.target.w!==t.target.offsetWidth||t.target.h&&t.target.h!==t.target.offsetHeight)&&e.onresize(t),t.target.w=t.target.offsetWidth,t.target.h=t.target.offsetHeight},o(this,nr,"f").onresize=o(this,er,"m",lr).bind(this),o(this,tr,"f").subscribe(o(this,er,"m",sr).bind(this))}disconnectedCallback(){o(this,tr,"f").unsubscribeAll(),window.removeEventListener("resize",o(this,rr,"f").resize)}}tr=new WeakMap,nr=new WeakMap,or=new WeakMap,ir=new WeakMap,rr=new WeakMap,er=new WeakSet,sr=function(e){o(this,er,"m",ar).call(this,e),o(this,er,"m",lr).call(this)},ar=function(e){o(this,or,"f").innerHTML=e.messages.map((e=>`\n    <div class="msg">\n      <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M5.99984 13.167L8.99984 10.167L11.9998 13.167L13.1665 12.0003L10.1665 9.00033L13.1665 6.00033L11.9998 4.83366L8.99984 7.83366L5.99984 4.83366L4.83317 6.00033L7.83317 9.00033L4.83317 12.0003L5.99984 13.167ZM8.99984 17.3337C7.84706 17.3337 6.76373 17.1148 5.74984 16.677C4.73595 16.2398 3.854 15.6462 3.104 14.8962C2.354 14.1462 1.76039 13.2642 1.32317 12.2503C0.885393 11.2364 0.666504 10.1531 0.666504 9.00033C0.666504 7.84755 0.885393 6.76421 1.32317 5.75033C1.76039 4.73644 2.354 3.85449 3.104 3.10449C3.854 2.35449 4.73595 1.7606 5.74984 1.32283C6.76373 0.885603 7.84706 0.666992 8.99984 0.666992C10.1526 0.666992 11.2359 0.885603 12.2498 1.32283C13.2637 1.7606 14.1457 2.35449 14.8957 3.10449C15.6457 3.85449 16.2393 4.73644 16.6765 5.75033C17.1143 6.76421 17.3332 7.84755 17.3332 9.00033C17.3332 10.1531 17.1143 11.2364 16.6765 12.2503C16.2393 13.2642 15.6457 14.1462 14.8957 14.8962C14.1457 15.6462 13.2637 16.2398 12.2498 16.677C11.2359 17.1148 10.1526 17.3337 8.99984 17.3337ZM8.99984 15.667C10.8609 15.667 12.4373 15.0212 13.729 13.7295C15.0207 12.4378 15.6665 10.8614 15.6665 9.00033C15.6665 7.13921 15.0207 5.56283 13.729 4.27116C12.4373 2.97949 10.8609 2.33366 8.99984 2.33366C7.13873 2.33366 5.56234 2.97949 4.27067 4.27116C2.979 5.56283 2.33317 7.13921 2.33317 9.00033C2.33317 10.8614 2.979 12.4378 4.27067 13.7295C5.56234 15.0212 7.13873 15.667 8.99984 15.667Z" fill="#ED404A"/>\n</svg>\n\n      <div class="msg_content">\n        <div class="msg_title">\n          ${e.title}\n        </div>\n        <div class="msg_desc">\n          ${e.description}\n        </div>\n      </div>\n      <div class="chevron"></div>\n    </div>\n  `)).join("")},lr=function(){o(this,or,"f").querySelectorAll(".msg").forEach((e=>{const t=e.querySelector(".msg_desc"),n=t.scrollWidth>t.clientWidth,o=t.clientHeight>20;n||o?(e.classList.add("collapsible"),e.onclick=t=>{t.target.classList.contains("msg_desc")||e.classList.toggle("collapsed")}):(e.classList.remove("collapsible"),e.onclick=null)}))},cr=function(){const[e,t]=Qo(o(this,nr,"f"),Number.parseInt(o(this,nr,"f").style.left,10),Number.parseInt(o(this,nr,"f").style.top,10),{top:"all",bottom:100,left:100,right:100});o(this,nr,"f").style.top=`${t}px`,o(this,nr,"f").style.left=`${e}px`},customElements.get("descope-debugger")||customElements.define("descope-debugger",pr);var gr=Object.freeze({__proto__:null,default:pr})}();
